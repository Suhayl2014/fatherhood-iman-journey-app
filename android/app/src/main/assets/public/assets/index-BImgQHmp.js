const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pwa-action-sheet.entry-CFJTWwx1.js","assets/ui-vendor-C7McgsY-.js","assets/react-vendor-BhqeUVA1.js","assets/icons-CbYejn_e.js","assets/pwa-camera-modal.entry-CxsRc-iz.js","assets/pwa-toast.entry-WM5F3I3A.js","assets/pwa-camera-modal-instance.entry-DiGYvwxD.js","assets/pwa-camera.entry-DKaqZF3o.js","assets/browser-hdcjw_P4.js","assets/Landing-D5Li5SBe.js","assets/index-CDHhSjWI.js","assets/Auth-DnAyKLzV.js","assets/form-vendor-BfT7G_Dv.js","assets/form-mLNjPGYL.js","assets/label-D3kNmkFD.js","assets/input-DPPaCPuN.js","assets/Dashboard-C7iQVp-H.js","assets/card-DjuXh6RO.js","assets/dialog-CDH1IPmJ.js","assets/badge-ByhtEUZ7.js","assets/AddChild-DmPOEcsH.js","assets/select-DF03zH8V.js","assets/ChildMilestones-CFH96QRU.js","assets/milestones-CBoGx6zn.js","assets/tabs-9HacetrH.js","assets/Profile-BfrPhdmb.js","assets/textarea-dtvLoS-u.js","assets/checkbox-C0wyMYmT.js","assets/Index-BE-93bSQ.js","assets/Lessons-x9tCmu2k.js","assets/Milestones-05-JH6Db.js","assets/Duas-CA7Q2Cxz.js","assets/Journal-nPrd0zja.js","assets/Community-CfqDa1Zo.js","assets/BabyPrep-C4SnR_9J.js","assets/NotFound-C5iZvysz.js"])))=>i.map(i=>d[i]);
import{j as f,V as Os,R as As,A as Rs,C as Is,T as Ns,D as Ls,P as bi,c as wi,a as Ds,u as Ms,b as _i,d as xi,e as ze,f as $i,g as ki,h as Ei,S as Si,i as Ti,k as ji,l as Pi}from"./ui-vendor-C7McgsY-.js";import{a as Ci,g as Oi,d as Z,r as w,R as y,b as Ai,u as Us,L as ue,N as Ri,e as Ii,B as Ni,f as Li,h as q}from"./react-vendor-BhqeUVA1.js";import{X as Fs,H as Ot,M as Di,B as Bs,a as Mi,b as cr,U as Ui,L as Fi,c as Bi,d as zi}from"./icons-CbYejn_e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var zs,Gr=Ci;zs=Gr.createRoot,Gr.hydrateRoot;const qi="modulepreload",Hi=function(r){return"/"+r},Kr={},I=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=Promise.allSettled(t.map(l=>{if(l=Hi(l),l in Kr)return;Kr[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":qi,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var Vi=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}(),qs=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})},Hs=function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(s=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,n=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],n=0}finally{s=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Jr=function(r,e,t){if(t||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return r.concat(i||Array.prototype.slice.call(e))},Gi="ionicpwaelements",jt,Vs,Q=!1,ur=!1,pe=function(r,e){return function(){}},Ki=function(r,e){return function(){}},Ji="{visibility:hidden}.hydrated{visibility:inherit}",Wr={},Wi="http://www.w3.org/2000/svg",Qi="http://www.w3.org/1999/xhtml",Yi=function(r){return r!=null},Er=function(r){return r=typeof r,r==="object"||r==="function"};function Gs(r){var e,t,s;return(s=(t=(e=r.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&s!==void 0?s:void 0}var Xi=function(r,e){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];var n=null,i=!1,o=!1,a=[],l=function(h){for(var d=0;d<h.length;d++)n=h[d],Array.isArray(n)?l(n):n!=null&&typeof n!="boolean"&&((i=typeof r!="function"&&!Er(n))&&(n=String(n)),i&&o?a[a.length-1].$text$+=n:a.push(i?dr(null,n):n),o=i)};if(l(t),e){var c=e.className||e.class;c&&(e.class=typeof c!="object"?c:Object.keys(c).filter(function(h){return c[h]}).join(" "))}var u=dr(r,null);return u.$attrs$=e,a.length>0&&(u.$children$=a),u},dr=function(r,e){var t={$flags$:0,$tag$:r,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t},Zi={},eo=function(r){return r&&r.$tag$===Zi},to=function(r,e){return r!=null&&!Er(r)?e&4?r==="false"?!1:r===""||!!r:e&2?parseFloat(r):e&1?String(r):r:r},ro=function(r){return Se(r).$hostElement$},$d=function(r,e,t){var s=ro(r);return{emit:function(n){return Ks(s,e,{bubbles:!!(t&4),composed:!!(t&2),cancelable:!!(t&1),detail:n})}}},Ks=function(r,e,t){var s=B.ce(e,t);return r.dispatchEvent(s),s},Qr=new WeakMap,so=function(r,e,t){var s=At.get(r);To&&t?(s=s||new CSSStyleSheet,typeof s=="string"?s=e:s.replaceSync(e)):s=e,At.set(r,s)},no=function(r,e,t,s){var n,i=Js(e),o=At.get(i);if(r=r.nodeType===11?r:ie,o)if(typeof o=="string"){r=r.head||r;var a=Qr.get(r),l=void 0;if(a||Qr.set(r,a=new Set),!a.has(i)){{l=ie.createElement("style"),l.innerHTML=o;var c=(n=B.$nonce$)!==null&&n!==void 0?n:Gs(ie);c!=null&&l.setAttribute("nonce",c),r.insertBefore(l,r.querySelector("link"))}a&&a.add(i)}}else r.adoptedStyleSheets.includes(o)||(r.adoptedStyleSheets=Jr(Jr([],r.adoptedStyleSheets,!0),[o],!1));return i},io=function(r){var e=r.$cmpMeta$,t=r.$hostElement$,s=e.$flags$,n=pe("attachStyles",e.$tagName$),i=no(t.shadowRoot?t.shadowRoot:t.getRootNode(),e);s&10&&(t["s-sc"]=i,t.classList.add(i+"-h")),n()},Js=function(r,e){return"sc-"+r.$tagName$},Yr=function(r,e,t,s,n,i){if(t!==s){var o=Zr(r,e),a=e.toLowerCase();if(e==="class"){var l=r.classList,c=Xr(t),u=Xr(s);l.remove.apply(l,c.filter(function(m){return m&&!u.includes(m)})),l.add.apply(l,u.filter(function(m){return m&&!c.includes(m)}))}else if(e==="style"){for(var h in t)(!s||s[h]==null)&&(h.includes("-")?r.style.removeProperty(h):r.style[h]="");for(var h in s)(!t||s[h]!==t[h])&&(h.includes("-")?r.style.setProperty(h,s[h]):r.style[h]=s[h])}else if(e==="ref")s&&s(r);else if(!o&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):Zr(Lt,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&B.rel(r,e,t,!1),s&&B.ael(r,e,s,!1);else{var d=Er(s);if((o||d&&s!==null)&&!n)try{if(r.tagName.includes("-"))r[e]=s;else{var p=s??"";e==="list"?o=!1:(t==null||r[e]!=p)&&(r[e]=p)}}catch{}s==null||s===!1?(s!==!1||r.getAttribute(e)==="")&&r.removeAttribute(e):(!o||i&4||n)&&!d&&(s=s===!0?"":s,r.setAttribute(e,s))}}},oo=/\s/,Xr=function(r){return r?r.split(oo):[]},Ws=function(r,e,t,s){var n=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=r&&r.$attrs$||Wr,o=e.$attrs$||Wr;for(s in i)s in o||Yr(n,s,i[s],void 0,t,e.$flags$);for(s in o)Yr(n,s,i[s],o[s],t,e.$flags$)},Sr=function(r,e,t,s){var n=e.$children$[t],i=0,o,a;if(n.$text$!==null)o=n.$elm$=ie.createTextNode(n.$text$);else{if(Q||(Q=n.$tag$==="svg"),o=n.$elm$=ie.createElementNS(Q?Wi:Qi,n.$tag$),Q&&n.$tag$==="foreignObject"&&(Q=!1),Ws(null,n,Q),Yi(jt)&&o["s-si"]!==jt&&o.classList.add(o["s-si"]=jt),n.$children$)for(i=0;i<n.$children$.length;++i)a=Sr(r,n,i),a&&o.appendChild(a);n.$tag$==="svg"?Q=!1:o.tagName==="foreignObject"&&(Q=!0)}return o},Qs=function(r,e,t,s,n,i){var o=r,a;for(o.shadowRoot&&o.tagName===Vs&&(o=o.shadowRoot);n<=i;++n)s[n]&&(a=Sr(null,t,n),a&&(s[n].$elm$=a,o.insertBefore(a,e)))},Ys=function(r,e,t){for(var s=e;s<=t;++s){var n=r[s];if(n){var i=n.$elm$;Xs(n),i&&i.remove()}}},ao=function(r,e,t,s){for(var n=0,i=0,o=e.length-1,a=e[0],l=e[o],c=s.length-1,u=s[0],h=s[c],d;n<=o&&i<=c;)a==null?a=e[++n]:l==null?l=e[--o]:u==null?u=s[++i]:h==null?h=s[--c]:_t(a,u)?(lt(a,u),a=e[++n],u=s[++i]):_t(l,h)?(lt(l,h),l=e[--o],h=s[--c]):_t(a,h)?(lt(a,h),r.insertBefore(a.$elm$,l.$elm$.nextSibling),a=e[++n],h=s[--c]):_t(l,u)?(lt(l,u),r.insertBefore(l.$elm$,a.$elm$),l=e[--o],u=s[++i]):(d=Sr(e&&e[i],t,i),u=s[++i],d&&a.$elm$.parentNode.insertBefore(d,a.$elm$));n>o?Qs(r,s[c+1]==null?null:s[c+1].$elm$,t,s,i,c):i>c&&Ys(e,n,o)},_t=function(r,e){return r.$tag$===e.$tag$},lt=function(r,e){var t=e.$elm$=r.$elm$,s=r.$children$,n=e.$children$,i=e.$tag$,o=e.$text$;o===null?(Q=i==="svg"?!0:i==="foreignObject"?!1:Q,Ws(r,e,Q),s!==null&&n!==null?ao(t,s,e,n):n!==null?(r.$text$!==null&&(t.textContent=""),Qs(t,null,e,n,0,n.length-1)):s!==null&&Ys(s,0,s.length-1),Q&&i==="svg"&&(Q=!1)):r.$text$!==o&&(t.data=o)},Xs=function(r){r.$attrs$&&r.$attrs$.ref&&r.$attrs$.ref(null),r.$children$&&r.$children$.map(Xs)},lo=function(r,e){var t=r.$hostElement$,s=r.$vnode$||dr(null,null),n=eo(e)?e:Xi(null,null,e);Vs=t.tagName,n.$tag$=null,n.$flags$|=4,r.$vnode$=n,n.$elm$=s.$elm$=t.shadowRoot||t,jt=t["s-sc"],lt(s,n)},Zs=function(r,e){e&&!r.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(function(t){return r.$onRenderResolve$=t}))},Nt=function(r,e){if(r.$flags$|=16,r.$flags$&4){r.$flags$|=512;return}Zs(r,r.$ancestorComponent$);var t=function(){return co(r,e)};return Po(t)},co=function(r,e){var t=pe("scheduleUpdate",r.$cmpMeta$.$tagName$),s=r.$lazyInstance$,n;return e&&(r.$flags$|=256,r.$queuedListeners$&&(r.$queuedListeners$.map(function(i){var o=i[0],a=i[1];return Tr(s,o,a)}),r.$queuedListeners$=void 0)),t(),uo(n,function(){return fo(r,s,e)})},uo=function(r,e){return ho(r)?r.then(e):e()},ho=function(r){return r instanceof Promise||r&&r.then&&typeof r.then=="function"},fo=function(r,e,t){return qs(void 0,void 0,void 0,function(){var s,n,i,o,a,l,c;return Hs(this,function(u){return n=r.$hostElement$,i=pe("update",r.$cmpMeta$.$tagName$),o=n["s-rc"],t&&io(r),a=pe("render",r.$cmpMeta$.$tagName$),po(r,e),o&&(o.map(function(h){return h()}),n["s-rc"]=void 0),a(),i(),l=(s=n["s-p"])!==null&&s!==void 0?s:[],c=function(){return mo(r)},l.length===0?c():(Promise.all(l).then(c),r.$flags$|=4,l.length=0),[2]})})},po=function(r,e,t){try{e=e.render(),r.$flags$&=-17,r.$flags$|=2,lo(r,e)}catch(s){ne(s,r.$hostElement$)}return null},mo=function(r){r.$cmpMeta$.$tagName$;var e=r.$hostElement$,t=pe(),s=r.$lazyInstance$,n=r.$ancestorComponent$;r.$flags$&64?t():(r.$flags$|=64,tn(e),Tr(s,"componentDidLoad"),t(),r.$onReadyResolve$(e),n||en()),r.$onInstanceResolve$(e),r.$onRenderResolve$&&(r.$onRenderResolve$(),r.$onRenderResolve$=void 0),r.$flags$&512&&Pr(function(){return Nt(r,!1)}),r.$flags$&=-517},kd=function(r){{var e=Se(r),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&Nt(e,!1),t}},en=function(r){tn(ie.documentElement),Pr(function(){return Ks(Lt,"appload",{detail:{namespace:Gi}})})},Tr=function(r,e,t){if(r&&r[e])try{return r[e](t)}catch(s){ne(s)}},tn=function(r){return r.classList.add("hydrated")},go=function(r,e){return Se(r).$instanceValues$.get(e)},vo=function(r,e,t,s){var n=Se(r),i=n.$instanceValues$.get(e),o=n.$flags$,a=n.$lazyInstance$;t=to(t,s.$members$[e][0]);var l=Number.isNaN(i)&&Number.isNaN(t),c=t!==i&&!l;(!(o&8)||i===void 0)&&c&&(n.$instanceValues$.set(e,t),a&&(o&18)===2&&Nt(n,!1))},rn=function(r,e,t){if(e.$members$){var s=Object.entries(e.$members$),n=r.prototype;if(s.map(function(o){var a=o[0],l=o[1][0];l&31||t&2&&l&32?Object.defineProperty(n,a,{get:function(){return go(this,a)},set:function(c){vo(this,a,c,e)},configurable:!0,enumerable:!0}):t&1&&l&64&&Object.defineProperty(n,a,{value:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var h=Se(this);return h.$onInstancePromise$.then(function(){var d;return(d=h.$lazyInstance$)[a].apply(d,c)})}})}),t&1){var i=new Map;n.attributeChangedCallback=function(o,a,l){var c=this;B.jmp(function(){var u=i.get(o);if(c.hasOwnProperty(u))l=c[u],delete c[u];else if(n.hasOwnProperty(u)&&typeof c[u]=="number"&&c[u]==l)return;c[u]=l===null&&typeof c[u]=="boolean"?!1:l})},r.observedAttributes=s.filter(function(o){o[0];var a=o[1];return a[0]&15}).map(function(o){var a=o[0],l=o[1],c=l[1]||a;return i.set(c,a),c})}}return r},yo=function(r,e,t,s,n){return qs(void 0,void 0,void 0,function(){var i,o,a,l,c,u,h;return Hs(this,function(d){switch(d.label){case 0:return e.$flags$&32?[3,3]:(e.$flags$|=32,n=So(t),n.then?(i=Ki(),[4,n]):[3,2]);case 1:n=d.sent(),i(),d.label=2;case 2:n.isProxied||(rn(n,t,2),n.isProxied=!0),o=pe("createInstance",t.$tagName$),e.$flags$|=8;try{new n(e)}catch(p){ne(p)}e.$flags$&=-9,o(),n.style&&(a=n.style,l=Js(t),At.has(l)||(c=pe("registerStyles",t.$tagName$),so(l,a,!!(t.$flags$&1)),c())),d.label=3;case 3:return u=e.$ancestorComponent$,h=function(){return Nt(e,!0)},u&&u["s-rc"]?u["s-rc"].push(h):h(),[2]}})})},bo=function(r){if(!(B.$flags$&1)){var e=Se(r),t=e.$cmpMeta$,s=pe("connectedCallback",t.$tagName$);if(e.$flags$&1)sn(r,e,t.$listeners$);else{e.$flags$|=1;for(var n=r;n=n.parentNode||n.host;)if(n["s-p"]){Zs(e,e.$ancestorComponent$=n);break}t.$members$&&Object.entries(t.$members$).map(function(i){var o=i[0],a=i[1][0];if(a&31&&r.hasOwnProperty(o)){var l=r[o];delete r[o],r[o]=l}}),yo(r,e,t)}s()}},wo=function(r){if(!(B.$flags$&1)){var e=Se(r),t=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$.map(function(s){return s()}),e.$rmListeners$=void 0),Tr(t,"disconnectedCallback")}},_o=function(r,e){e===void 0&&(e={});var t,s=pe(),n=[],i=e.exclude||[],o=Lt.customElements,a=ie.head,l=a.querySelector("meta[charset]"),c=ie.createElement("style"),u=[],h,d=!0;Object.assign(B,e),B.$resourcesUrl$=new URL(e.resourcesUrl||"./",ie.baseURI).href,r.map(function(m){m[1].map(function(g){var v={$flags$:g[0],$tagName$:g[1],$members$:g[2],$listeners$:g[3]};v.$members$=g[2],v.$listeners$=g[3];var b=v.$tagName$,_=function(S){Vi(T,S);function T(x){var ee=S.call(this,x)||this;return x=ee,Eo(x,v),v.$flags$&1&&x.attachShadow({mode:"open"}),ee}return T.prototype.connectedCallback=function(){var x=this;h&&(clearTimeout(h),h=null),d?u.push(this):B.jmp(function(){return bo(x)})},T.prototype.disconnectedCallback=function(){var x=this;B.jmp(function(){return wo(x)})},T.prototype.componentOnReady=function(){return Se(this).$onReadyPromise$},T}(HTMLElement);v.$lazyBundleId$=m[0],!i.includes(b)&&!o.get(b)&&(n.push(b),o.define(b,rn(_,v,1)))})});{c.innerHTML=n+Ji,c.setAttribute("data-styles","");var p=(t=B.$nonce$)!==null&&t!==void 0?t:Gs(ie);p!=null&&c.setAttribute("nonce",p),a.insertBefore(c,l?l.nextSibling:a.firstChild)}d=!1,u.length?u.map(function(m){return m.connectedCallback()}):B.jmp(function(){return h=setTimeout(en,30)}),s()},sn=function(r,e,t,s){t&&t.map(function(n){var i=n[0],o=n[1],a=n[2],l=$o(r,i),c=xo(e,a),u=ko(i);B.ael(l,o,c,u),(e.$rmListeners$=e.$rmListeners$||[]).push(function(){return B.rel(l,o,c,u)})})},xo=function(r,e){return function(t){try{r.$flags$&256?r.$lazyInstance$[e](t):(r.$queuedListeners$=r.$queuedListeners$||[]).push([e,t])}catch(s){ne(s)}}},$o=function(r,e){return e&16?ie.body:r},ko=function(r){return(r&2)!==0},jr=new WeakMap,Se=function(r){return jr.get(r)},Ed=function(r,e){return jr.set(e.$lazyInstance$=r,e)},Eo=function(r,e){var t={$flags$:0,$hostElement$:r,$cmpMeta$:e,$instanceValues$:new Map};return t.$onInstancePromise$=new Promise(function(s){return t.$onInstanceResolve$=s}),t.$onReadyPromise$=new Promise(function(s){return t.$onReadyResolve$=s}),r["s-p"]=[],r["s-rc"]=[],sn(r,t,e.$listeners$),jr.set(r,t)},Zr=function(r,e){return e in r},ne=function(r,e){return(0,console.error)(r,e)},Xt=new Map,So=function(r,e,t){var s=r.$tagName$.replace(/-/g,"_"),n=r.$lazyBundleId$,i=Xt.get(n);if(i)return i[s];{var o=function(a){return Xt.set(n,a),a[s]};switch(n){case"pwa-action-sheet":return I(()=>import("./pwa-action-sheet.entry-CFJTWwx1.js"),__vite__mapDeps([0,1,2,3])).then(o,ne);case"pwa-camera-modal":return I(()=>import("./pwa-camera-modal.entry-CxsRc-iz.js"),__vite__mapDeps([4,1,2,3])).then(o,ne);case"pwa-toast":return I(()=>import("./pwa-toast.entry-WM5F3I3A.js"),__vite__mapDeps([5,1,2,3])).then(o,ne);case"pwa-camera-modal-instance":return I(()=>import("./pwa-camera-modal-instance.entry-DiGYvwxD.js"),__vite__mapDeps([6,1,2,3])).then(o,ne);case"pwa-camera":return I(()=>import("./pwa-camera.entry-DKaqZF3o.js"),__vite__mapDeps([7,1,2,3])).then(o,ne)}}return I(()=>import("./".concat(n,".entry.js").concat("")),[]).then(function(a){return Xt.set(n,a),a[s]},ne)},At=new Map,Lt=typeof window<"u"?window:{},ie=Lt.document||{head:{}},B={$flags$:0,$resourcesUrl$:"",jmp:function(r){return r()},raf:function(r){return requestAnimationFrame(r)},ael:function(r,e,t,s){return r.addEventListener(e,t,s)},rel:function(r,e,t,s){return r.removeEventListener(e,t,s)},ce:function(r,e){return new CustomEvent(r,e)}},nn=function(r){return Promise.resolve(r)},To=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),es=[],on=[],jo=function(r,e){return function(t){r.push(t),ur||(ur=!0,B.$flags$&4?Pr(hr):B.raf(hr))}},ts=function(r){for(var e=0;e<r.length;e++)try{r[e](performance.now())}catch(t){ne(t)}r.length=0},hr=function(){ts(es),ts(on),(ur=es.length>0)&&B.raf(hr)},Pr=function(r){return nn().then(r)},Po=jo(on),Co=function(){return nn()},Oo=function(r,e){return typeof window>"u"?Promise.resolve():Co().then(function(){return _o([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],e)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var r=HTMLElement;window.HTMLElement=function(){return Reflect.construct(r,[],this.constructor)},HTMLElement.prototype=r.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,r)}})();const Ao=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>I(async()=>{const{default:s}=await Promise.resolve().then(()=>Ye);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Cr extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Ro extends Cr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Io extends Cr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class No extends Cr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fr;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(fr||(fr={}));var Lo=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Do{constructor(e,{headers:t={},customFetch:s,region:n=fr.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Ao(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Lo(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(m=>{throw new Ro(m)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Io(u);if(!u.ok)throw new No(u);let d=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield u.json():d==="application/octet-stream"?p=yield u.blob():d==="text/event-stream"?p=u:d==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var K={},Or={},Dt={},vt={},Mt={},Ut={},Mo=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},We=Mo();const Uo=We.fetch,an=We.fetch.bind(We),ln=We.Headers,Fo=We.Request,Bo=We.Response,Ye=Object.freeze(Object.defineProperty({__proto__:null,Headers:ln,Request:Fo,Response:Bo,default:an,fetch:Uo},Symbol.toStringTag,{value:"Module"})),zo=Oi(Ye);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});let qo=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ft.default=qo;var cn=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ut,"__esModule",{value:!0});const Ho=cn(zo),Vo=cn(Ft);let Go=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ho.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,h=null,d=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,d=200,p="OK")}catch{i.status===404&&g===""?(d=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,p="OK"),c&&this.shouldThrowOnError)throw new Vo.default(c)}return{error:c,data:u,count:h,status:d,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};Ut.default=Go;var Ko=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mt,"__esModule",{value:!0});const Jo=Ko(Ut);let Wo=class extends Jo.default{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Mt.default=Wo;var Qo=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});const Yo=Qo(Mt);let Xo=class extends Yo.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};vt.default=Xo;var Zo=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dt,"__esModule",{value:!0});const st=Zo(vt);let ea=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=t,this.schema=s,this.fetch=n}select(e,{head:t=!1,count:s}={}){const n=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new st.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new st.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new st.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new st.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new st.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Dt.default=ea;var Bt={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.version=void 0;zt.version="0.0.0-automated";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.DEFAULT_HEADERS=void 0;const ta=zt;Bt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ta.version}`};var un=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Or,"__esModule",{value:!0});const ra=un(Dt),sa=un(vt),na=Bt;let ia=class dn{constructor(e,{headers:t={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},na.DEFAULT_HEADERS),t),this.schemaName=s,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new ra.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dn(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||n?(o=s?"HEAD":"GET",Object.entries(t).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new sa.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Or.default=ia;var Xe=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(K,"__esModule",{value:!0});K.PostgrestError=K.PostgrestBuilder=K.PostgrestTransformBuilder=K.PostgrestFilterBuilder=K.PostgrestQueryBuilder=K.PostgrestClient=void 0;const hn=Xe(Or);K.PostgrestClient=hn.default;const fn=Xe(Dt);K.PostgrestQueryBuilder=fn.default;const pn=Xe(vt);K.PostgrestFilterBuilder=pn.default;const mn=Xe(Mt);K.PostgrestTransformBuilder=mn.default;const gn=Xe(Ut);K.PostgrestBuilder=gn.default;const vn=Xe(Ft);K.PostgrestError=vn.default;var oa=K.default={PostgrestClient:hn.default,PostgrestQueryBuilder:fn.default,PostgrestFilterBuilder:pn.default,PostgrestTransformBuilder:mn.default,PostgrestBuilder:gn.default,PostgrestError:vn.default};const{PostgrestClient:aa,PostgrestQueryBuilder:Od,PostgrestFilterBuilder:Ad,PostgrestTransformBuilder:Rd,PostgrestBuilder:Id,PostgrestError:Nd}=oa,la="2.11.2",ca={"X-Client-Info":`realtime-js/${la}`},ua="1.0.0",yn=1e4,da=1e3;var Ke;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ke||(Ke={}));var J;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(J||(J={}));var se;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(se||(se={}));var pr;(function(r){r.websocket="websocket"})(pr||(pr={}));var Ne;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ne||(Ne={}));class ha{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class bn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var R;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(R||(R={}));const rs=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=fa(o,r,e,n),i),{})},fa=(r,e,t,s)=>{const n=e.find(a=>a.name===r),i=n?.type,o=t[r];return i&&!s.includes(i)?wn(i,o):mr(o)},wn=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return va(e,t)}switch(r){case R.bool:return pa(e);case R.float4:case R.float8:case R.int2:case R.int4:case R.int8:case R.numeric:case R.oid:return ma(e);case R.json:case R.jsonb:return ga(e);case R.timestamp:return ya(e);case R.abstime:case R.date:case R.daterange:case R.int4range:case R.int8range:case R.money:case R.reltime:case R.text:case R.time:case R.timestamptz:case R.timetz:case R.tsrange:case R.tstzrange:return mr(e);default:return mr(e)}},mr=r=>r,pa=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ma=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},ga=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},va=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>wn(e,a))}return r},ya=r=>typeof r=="string"?r.replace(" ","T"):r,_n=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Zt{constructor(e,t,s={},n=yn){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ss;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ss||(ss={}));class ut{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ut.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ut.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ut.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),m=u.filter(v=>p.indexOf(v.presence_ref)<0),g=h.filter(v=>d.indexOf(v.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(p=>p.presence_ref),d=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ns;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ns||(ns={}));var is;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(is||(is={}));var fe;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(fe||(fe={}));class Ar{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=J.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Zt(this,se.join,this.params,this.timeout),this.rejoinTimer=new bn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=J.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=J.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this._on(se.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ut(this),this.broadcastEndpointURL=_n(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e?.(fe.CHANNEL_ERROR,u)),this._onClose(()=>e?.(fe.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e?.(fe.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,p=(h=d?.length)!==null&&h!==void 0?h:0,m=[];for(let g=0;g<p;g++){const v=d[g],{filter:{event:b,schema:_,table:S,filter:T}}=v,x=u&&u[g];if(x&&x.event===b&&x.schema===_&&x.table===S&&x.filter===T)m.push(Object.assign(Object.assign({},v),{id:x.id}));else{this.unsubscribe(),e?.(fe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(fe.SUBSCRIBED);return}}).receive("error",u=>{e?.(fe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e?.(fe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=J.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(se.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new Zt(this,se.leave,{},e);n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Zt(this,e,t,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=se;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,t,s);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,g,v,b,_,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,x=(m=p.filter)===null||m===void 0?void 0:m.event;return T&&((g=t.ids)===null||g===void 0?void 0:g.includes(T))&&(x==="*"||x?.toLocaleLowerCase()===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const T=(_=(b=p?.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return T==="*"||T===((S=t?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:g,table:v,commit_timestamp:b,type:_,errors:S}=m;d=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(m))}p.callback(d,s)})}_isClosed(){return this.state===J.closed}_isJoined(){return this.state===J.joined}_isJoining(){return this.state===J.joining}_isLeaving(){return this.state===J.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ar.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(se.close,{},e)}_onError(e){this._on(se.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=J.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=rs(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=rs(e.columns,e.old_record)),t}}const ba=()=>{},wa=typeof WebSocket<"u",_a=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xa{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ca,this.params={},this.timeout=yn,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ba,this.conn=null,this.sendBuffer=[],this.serializer=new ha,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>I(async()=>{const{default:l}=await Promise.resolve().then(()=>Ye);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${pr.websocket}`,this.httpEndpoint=_n(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(s=t?.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t?.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bn(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(wa){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $a(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),I(async()=>{const{default:e}=await import("./browser-hdcjw_P4.js").then(t=>t.b);return{default:e}},__vite__mapDeps([8,2])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ua}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ke.connecting:return Ne.Connecting;case Ke.open:return Ne.Open;case Ke.closing:return Ne.Closing;default:return Ne.Closed}}isConnected(){return this.connectionState()===Ne.Open}channel(e,t={config:{}}){const s=new Ar(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let s=null;try{s=JSON.parse(atob(t.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(se.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(da,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:n,payload:i,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(se.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([_a],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class $a{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ke.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Rr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function F(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class ka extends Rr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gr extends Rr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ea=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const xn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>I(async()=>{const{default:s}=await Promise.resolve().then(()=>Ye);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Sa=()=>Ea(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield I(()=>Promise.resolve().then(()=>Ye),void 0)).Response:Response}),vr=r=>{if(Array.isArray(r))return r.map(t=>vr(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=vr(s)}),e};var Le=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const er=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ta=(r,e,t)=>Le(void 0,void 0,void 0,function*(){const s=yield Sa();r instanceof s&&!t?.noResolveJson?r.json().then(n=>{e(new ka(er(n),r.status||500))}).catch(n=>{e(new gr(er(n),n))}):e(new gr(er(r),r))}),ja=(r,e,t,s)=>{const n={method:r,headers:e?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),t))};function yt(r,e,t,s,n,i){return Le(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,ja(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ta(l,a,s))})})}function Rt(r,e,t,s){return Le(this,void 0,void 0,function*(){return yt(r,"GET",e,t,s)})}function ke(r,e,t,s,n){return Le(this,void 0,void 0,function*(){return yt(r,"POST",e,s,n,t)})}function Pa(r,e,t,s,n){return Le(this,void 0,void 0,function*(){return yt(r,"PUT",e,s,n,t)})}function Ca(r,e,t,s){return Le(this,void 0,void 0,function*(){return yt(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function $n(r,e,t,s,n){return Le(this,void 0,void 0,function*(){return yt(r,"DELETE",e,s,n,t)})}var G=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Oa={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},os={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Aa{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=xn(n)}uploadOrUpdate(e,t,s,n){return G(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},os),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o?.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(F(i))return{data:null,error:i};throw i}})}upload(e,t,s){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return G(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:os.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(F(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return G(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t?.upsert&&(n["x-upsert"]="true");const i=yield ke(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Rr("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}})}update(e,t,s){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return G(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}copy(e,t,s){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return G(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ke(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return G(this,void 0,void 0,function*(){try{const n=yield ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}download(e,t){return G(this,void 0,void 0,function*(){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Rt(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(F(a))return{data:null,error:a};throw a}})}info(e){return G(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Rt(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:vr(s),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}})}exists(e){return G(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Ca(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(F(s)&&s instanceof gr){const n=s.originalError;if([400,404].includes(n?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return G(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}})}list(e,t,s){return G(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Oa),t),{prefix:e||""});return{data:yield ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ra="2.7.1",Ia={"X-Client-Info":`storage-js/${Ra}`};var qe=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Na{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},Ia),t),this.fetch=xn(s)}listBuckets(){return qe(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(F(e))return{data:null,error:e};throw e}})}getBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return qe(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return qe(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}})}emptyBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield ke(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}})}deleteBucket(e){return qe(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}})}}class La extends Na{constructor(e,t={},s){super(e,t,s)}from(e){return new Aa(this.url,this.headers,e,this.fetch)}}const Da="2.49.4";let ct="";typeof Deno<"u"?ct="deno":typeof document<"u"?ct="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ct="react-native":ct="node";const Ma={"X-Client-Info":`supabase-js-${ct}/${Da}`},Ua={headers:Ma},Fa={schema:"public"},Ba={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},za={};var qa=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Ha=r=>{let e;return r?e=r:typeof fetch>"u"?e=an:e=fetch,(...t)=>e(...t)},Va=()=>typeof Headers>"u"?ln:Headers,Ga=(r,e,t)=>{const s=Ha(t),n=Va();return(i,o)=>qa(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var Ka=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};function Ja(r){return r.replace(/\/$/,"")}function Wa(r,e){const{db:t,auth:s,realtime:n,global:i}=r,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i),accessToken:()=>Ka(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const kn="2.69.1",Ge=30*1e3,yr=3,tr=yr*Ge,Qa="http://localhost:9999",Ya="supabase.auth.token",Xa={"X-Client-Info":`gotrue-js/${kn}`},br="X-Supabase-Api-Version",En={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Za=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,el=6e5;class Ir extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function E(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class tl extends Ir{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function rl(r){return E(r)&&r.name==="AuthApiError"}class Sn extends Ir{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Te extends Ir{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class xe extends Te{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sl(r){return E(r)&&r.name==="AuthSessionMissingError"}class rr extends Te{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xt extends Te{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $t extends Te{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nl(r){return E(r)&&r.name==="AuthImplicitGrantRedirectError"}class as extends Te{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wr extends Te{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function sr(r){return E(r)&&r.name==="AuthRetryableFetchError"}class ls extends Te{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class dt extends Te{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),us=` 	
\r=`.split(""),il=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<us.length;e+=1)r[us[e].charCodeAt(0)]=-2;for(let e=0;e<cs.length;e+=1)r[cs[e].charCodeAt(0)]=e;return r})();function Tn(r,e,t){const s=il[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function ds(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{ll(o,s,t)};for(let o=0;o<r.length;o+=1)Tn(r.charCodeAt(o),n,i);return e.join("")}function ol(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function al(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}ol(s,e)}}function ll(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if(!(r>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function cl(r){const e=[],t={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)Tn(r.charCodeAt(n),t,s);return new Uint8Array(e)}function ul(r){const e=[];return al(r,t=>e.push(t)),new Uint8Array(e)}function dl(r){return Math.round(Date.now()/1e3)+r}function hl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const ce=()=>typeof window<"u"&&typeof document<"u",Re={tested:!1,writable:!1},ht=()=>{if(!ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Re.tested)return Re.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Re.tested=!0,Re.writable=!0}catch{Re.tested=!0,Re.writable=!1}return Re.writable};function fl(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const jn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>I(async()=>{const{default:s}=await Promise.resolve().then(()=>Ye);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},pl=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Pn=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},kt=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Et=async(r,e)=>{await r.removeItem(e)};class qt{constructor(){this.promise=new qt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}qt.promiseConstructor=Promise;function nr(r){const e=r.split(".");if(e.length!==3)throw new dt("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Za.test(e[s]))throw new dt("JWT not in base64url format");return{header:JSON.parse(ds(e[0])),payload:JSON.parse(ds(e[1])),signature:cl(e[2]),raw:{header:e[0],payload:e[1]}}}async function ml(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function gl(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function vl(r){return("0"+r.toString(16)).substr(-2)}function yl(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,vl).join("")}async function bl(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function wl(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await bl(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function He(r,e,t=!1){const s=yl();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await Pn(r,`${e}-code-verifier`,n);const i=await wl(s);return[i,s===i?"plain":"s256"]}const _l=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xl(r){const e=r.headers.get(br);if(!e||!e.match(_l))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $l(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function kl(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var El=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const Ie=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Sl=[502,503,504];async function hs(r){var e;if(!pl(r))throw new wr(Ie(r),0);if(Sl.includes(r.status))throw new wr(Ie(r),r.status);let t;try{t=await r.json()}catch(i){throw new Sn(Ie(i),i)}let s;const n=xl(r);if(n&&n.getTime()>=En["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new ls(Ie(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new xe}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ls(Ie(t),r.status,t.weak_password.reasons);throw new tl(Ie(t),r.status||500,s)}const Tl=(r,e,t,s)=>{const n={method:r,headers:e?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function P(r,e,t,s){var n;const i=Object.assign({},s?.headers);i[br]||(i[br]=En["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s?.query)!==null&&n!==void 0?n:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jl(r,e,t+a,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function jl(r,e,t,s,n,i){const o=Tl(e,s,n,i);let a;try{a=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new wr(Ie(l),0)}if(a.ok||await hs(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await hs(l)}}function $e(r){var e;let t=null;Al(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=dl(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function fs(r){const e=$e(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ee(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Pl(r){return{data:r,error:null}}function Cl(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,o=El(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ol(r){return r}function Al(r){return r.access_token&&r.refresh_token&&r.expires_in}var Rl=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Il{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=jn(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(E(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ee})}catch(s){if(E(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Rl(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s?.newEmail,delete n.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Cl,redirectTo:t?.redirectTo})}catch(t){if(E(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ee})}catch(t){if(E(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ol});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(E(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await P(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ee})}catch(t){if(E(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ee})}catch(s){if(E(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ee})}catch(s){if(E(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await P(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(E(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(E(t))return{data:null,error:t};throw t}}}const Nl={getItem:r=>ht()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{ht()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{ht()&&globalThis.localStorage.removeItem(r)}};function ps(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Ll(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ve={debug:!!(globalThis&&ht()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dl extends Cn{}async function Ml(r,e,t){Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Dl(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ve.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Ll();const Ul={url:Qa,storageKey:Ya,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xa,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ms(r,e,t){return await t()}class pt{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pt.nextInstanceID,pt.nextInstanceID+=1,this.instanceID>0&&ce()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ul),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Il({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=jn(n.fetch),this.lock=n.lock||ms,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ce()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=Ml:this.lock=ms,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ht()?this.storage=Nl:(this.memoryStorage={},this.storage=ps(this.memoryStorage)):(this.memoryStorage={},this.storage=ps(this.memoryStorage)),ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kn}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=fl(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),ce()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nl(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return E(t)?{error:t}:{error:new Sn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:$e}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(E(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await He(this.storage,this.storageKey)),i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(t=d?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:p,code_challenge_method:m},xform:$e})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(n=d?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:$e})}else throw new xt("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(E(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:fs})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:fs})}else throw new xt("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new rr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await kt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:o}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:$e});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(E(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:o}=e,a=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:$e}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await He(this.storage,this.storageKey));const{error:h}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l?.data)!==null&&t!==void 0?t:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new xt("You must provide either an email or phone number.")}catch(a){if(E(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:$e});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(E(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await He(this.storage,this.storageKey)),await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pl})}catch(i){if(E(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new xe;const{error:n}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(E(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await P(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await P(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new xt("You must provide either an email or phone number and a type")}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<tr:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ee}):await this._useSession(async t=>{var s,n,i;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xe}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ee})})}catch(t){if(E(t))return sl(t)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new xe;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await He(this.storage,this.storageKey));const{data:c,error:u}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ee});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(E(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xe;const t=Date.now()/1e3;let s=t,n=!0,i=null;const{payload:o}=nr(e.access_token);if(o.exp&&(s=o.exp,n=s<=t),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(E(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new xe;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(E(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ce())throw new $t("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $t(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new as("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $t("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new as("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new $t("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const p=d-u;p*1e3<=Ge&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,u);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(E(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(rl(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=hl(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await He(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(E(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(E(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return ce()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(E(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)throw o;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(E(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await gl(async n=>(n>0&&await ml(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$e})),(n,i)=>{const o=200*Math.pow(2,n);return i&&sr(i)&&Date.now()+o-s<Ge})}catch(s){if(this._debug(t,"error",s),E(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),ce()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await kt(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<tr;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${tr}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),sr(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new qt;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new xe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),E(i)){const o={session:null,error:i};return sr(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pn(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ce()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ge);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/Ge);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ge}ms, refresh threshold is ${yr} ticks`),n<=yr&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cn)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ce()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await He(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s?.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await P(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(E(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await P(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(E(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await P(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(E(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await P(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(E(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=e?.factors||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+el>Date.now()))return s;const{data:n,error:i}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new dt("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(o=>o.kid===e),!s)throw new dt("No matching signing key found in JWKS");return s}async getClaims(e,t={keys:[]}){try{let s=e;if(!s){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};s=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=nr(s);if($l(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const c=kl(n.alg),u=await this.fetchJwk(n.kid,t),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,ul(`${a}.${l}`)))throw new dt("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(E(s))return{data:null,error:s};throw s}}}pt.nextInstanceID=0;const Fl=pt;class Bl extends Fl{constructor(e){super(e)}}var zl=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class ql{constructor(e,t,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=Ja(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Fa,realtime:za,auth:Object.assign(Object.assign({},Ba),{storageKey:l}),global:Ua},u=Wa(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Ga(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new aa(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Do(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new La(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return zl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bl({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xa(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hl=(r,e,t)=>new ql(r,e,t),Vl="https://yidhyayqmnxeruzjylud.supabase.co",Gl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpZGh5YXlxbW54ZXJ1emp5bHVkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwNDE4ODUsImV4cCI6MjA1OTYxNzg4NX0.LyinElGE12H7FtX5LgEJ5Qb_AxCxxsrROKMch2rp2cE",nt=Hl(Vl,Gl,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Kl=1,Jl=1e6;let ir=0;function Wl(){return ir=(ir+1)%Number.MAX_SAFE_INTEGER,ir.toString()}const or=new Map,gs=r=>{if(or.has(r))return;const e=setTimeout(()=>{or.delete(r),ft({type:"REMOVE_TOAST",toastId:r})},Jl);or.set(r,e)},Ql=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,Kl)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?gs(t):r.toasts.forEach(s=>{gs(s.id)}),{...r,toasts:r.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(t=>t.id!==e.toastId)}}},Pt=[];let Ct={toasts:[]};function ft(r){Ct=Ql(Ct,r),Pt.forEach(e=>{e(Ct)})}function te({...r}){const e=Wl(),t=n=>ft({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>ft({type:"DISMISS_TOAST",toastId:e});return ft({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:t}}function Yl(){const[r,e]=w.useState(Ct);return w.useEffect(()=>(Pt.push(e),()=>{const t=Pt.indexOf(e);t>-1&&Pt.splice(t,1)}),[r]),{...r,toast:te,dismiss:t=>ft({type:"DISMISS_TOAST",toastId:t})}}const On=w.createContext(void 0);function An(){const r=w.useContext(On);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function Xl({children:r}){const[e,t]=w.useState(null),[s,n]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{const{data:{subscription:h}}=nt.auth.onAuthStateChange((d,p)=>{n(p),t(p?.user??null),o(!1)});return nt.auth.getSession().then(({data:{session:d}})=>{n(d),t(d?.user??null),o(!1)}),()=>h.unsubscribe()},[]);const u={session:s,user:e,loading:i,signIn:async(h,d)=>{try{o(!0);const{error:p}=await nt.auth.signInWithPassword({email:h,password:d});if(p)return o(!1),te({title:"Error signing in",description:p.message,variant:"destructive"}),Promise.reject(p);te({title:"Welcome back!",description:"You have successfully signed in."})}catch(p){return o(!1),te({title:"Error signing in",description:p.message,variant:"destructive"}),Promise.reject(p)}},signUp:async(h,d,p)=>{try{o(!0);const{error:m}=await nt.auth.signUp({email:h,password:d,options:{data:{full_name:p}}});if(m)return o(!1),te({title:"Error signing up",description:m.message,variant:"destructive"}),Promise.reject(m);o(!1),te({title:"Account created!",description:"Please check your email for verification."})}catch(m){return o(!1),te({title:"Error signing up",description:m.message,variant:"destructive"}),Promise.reject(m)}},signOut:async()=>{try{const{error:h}=await nt.auth.signOut();if(h)return te({title:"Error signing out",description:h.message,variant:"destructive"}),Promise.reject(h);n(null),t(null),te({title:"Signed out",description:"You have successfully signed out."})}catch(h){return te({title:"Error signing out",description:h.message,variant:"destructive"}),Promise.reject(h)}}};return f.jsx(On.Provider,{value:u,children:r})}function Rn(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=Rn(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function In(){for(var r,e,t=0,s="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=Rn(r))&&(s&&(s+=" "),s+=e);return s}const vs=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,ys=In,Nn=(r,e)=>t=>{var s;if(e?.variants==null)return ys(r,t?.class,t?.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(c=>{const u=t?.[c],h=i?.[c];if(u===null)return null;const d=vs(u)||vs(h);return n[c][d]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:h,className:d,...p}=u;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...i,...a}[g]):{...i,...a}[g]===v})?[...c,h,d]:c},[]);return ys(r,o,l,t?.class,t?.className)},Nr="-",Zl=r=>{const e=tc(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:o=>{const a=o.split(Nr);return a[0]===""&&a.length!==1&&a.shift(),Ln(a,e)||ec(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},Ln=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),n=s?Ln(r.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const i=r.join(Nr);return e.validators.find(({validator:o})=>o(i))?.classGroupId},bs=/^\[(.+)\]$/,ec=r=>{if(bs.test(r)){const e=bs.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},tc=r=>{const{theme:e,prefix:t}=r,s={nextPart:new Map,validators:[]};return sc(Object.entries(r.classGroups),t).forEach(([i,o])=>{_r(o,s,i,e)}),s},_r=(r,e,t,s)=>{r.forEach(n=>{if(typeof n=="string"){const i=n===""?e:ws(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(rc(n)){_r(n(s),e,t,s);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,o])=>{_r(o,ws(e,i),t,s)})})},ws=(r,e)=>{let t=r;return e.split(Nr).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},rc=r=>r.isThemeGetter,sc=(r,e)=>e?r.map(([t,s])=>{const n=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,n]}):r,nc=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const n=(i,o)=>{t.set(i,o),e++,e>r&&(e=0,s=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return n(i,o),o},set(i,o){t.has(i)?t.set(i,o):n(i,o)}}},Dn="!",ic=r=>{const{separator:e,experimentalParseClassName:t}=r,s=e.length===1,n=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let v=0;v<a.length;v++){let b=a[v];if(c===0){if(b===n&&(s||a.slice(v,v+i)===e)){l.push(a.slice(u,v)),u=v+i;continue}if(b==="/"){h=v;continue}}b==="["?c++:b==="]"&&c--}const d=l.length===0?a:a.substring(u),p=d.startsWith(Dn),m=p?d.substring(1):d,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},oc=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},ac=r=>({cache:nc(r.cacheSize),parseClassName:ic(r),...Zl(r)}),lc=/\s+/,cc=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:n}=e,i=[],o=r.trim().split(lc);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=t(c);let m=!!p,g=s(m?d.substring(0,p):d);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=s(d),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const v=oc(u).join(":"),b=h?v+Dn:v,_=b+g;if(i.includes(_))continue;i.push(_);const S=n(g,m);for(let T=0;T<S.length;++T){const x=S[T];i.push(b+x)}a=c+(a.length>0?" "+a:a)}return a};function uc(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Mn(e))&&(s&&(s+=" "),s+=t);return s}const Mn=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=Mn(r[s]))&&(t&&(t+=" "),t+=e);return t};function dc(r,...e){let t,s,n,i=o;function o(l){const c=e.reduce((u,h)=>h(u),r());return t=ac(c),s=t.cache.get,n=t.cache.set,i=a,a(l)}function a(l){const c=s(l);if(c)return c;const u=cc(l,t);return n(l,u),u}return function(){return i(uc.apply(null,arguments))}}const D=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},Un=/^\[(?:([a-z-]+):)?(.+)\]$/i,hc=/^\d+\/\d+$/,fc=new Set(["px","full","screen"]),pc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,he=r=>Je(r)||fc.has(r)||hc.test(r),we=r=>Ze(r,"length",Sc),Je=r=>!!r&&!Number.isNaN(Number(r)),ar=r=>Ze(r,"number",Je),it=r=>!!r&&Number.isInteger(Number(r)),bc=r=>r.endsWith("%")&&Je(r.slice(0,-1)),k=r=>Un.test(r),_e=r=>pc.test(r),wc=new Set(["length","size","percentage"]),_c=r=>Ze(r,wc,Fn),xc=r=>Ze(r,"position",Fn),$c=new Set(["image","url"]),kc=r=>Ze(r,$c,jc),Ec=r=>Ze(r,"",Tc),ot=()=>!0,Ze=(r,e,t)=>{const s=Un.exec(r);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},Sc=r=>mc.test(r)&&!gc.test(r),Fn=()=>!1,Tc=r=>vc.test(r),jc=r=>yc.test(r),Pc=()=>{const r=D("colors"),e=D("spacing"),t=D("blur"),s=D("brightness"),n=D("borderColor"),i=D("borderRadius"),o=D("borderSpacing"),a=D("borderWidth"),l=D("contrast"),c=D("grayscale"),u=D("hueRotate"),h=D("invert"),d=D("gap"),p=D("gradientColorStops"),m=D("gradientColorStopPositions"),g=D("inset"),v=D("margin"),b=D("opacity"),_=D("padding"),S=D("saturate"),T=D("scale"),x=D("sepia"),ee=D("skew"),je=D("space"),Pe=D("translate"),Ce=()=>["auto","contain","none"],Oe=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",k,e],O=()=>[k,e],ge=()=>["",he,we],ve=()=>["auto",Je,k],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",k],De=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[Je,k];return{cacheSize:500,separator:":",theme:{colors:[ot],spacing:[he,we],blur:["none","",_e,k],brightness:j(),borderColor:[r],borderRadius:["none","","full",_e,k],borderSpacing:O(),borderWidth:ge(),contrast:j(),grayscale:z(),hueRotate:j(),invert:z(),gap:O(),gradientColorStops:[r],gradientColorStopPositions:[bc,we],inset:Y(),margin:Y(),opacity:j(),padding:O(),saturate:j(),scale:j(),sepia:z(),skew:j(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",k]}],container:["container"],columns:[{columns:[_e]}],"break-after":[{"break-after":De()}],"break-before":[{"break-before":De()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),k]}],overflow:[{overflow:Oe()}],"overflow-x":[{"overflow-x":Oe()}],"overflow-y":[{"overflow-y":Oe()}],overscroll:[{overscroll:Ce()}],"overscroll-x":[{"overscroll-x":Ce()}],"overscroll-y":[{"overscroll-y":Ce()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",it,k]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",k]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",it,k]}],"grid-cols":[{"grid-cols":[ot]}],"col-start-end":[{col:["auto",{span:["full",it,k]},k]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[ot]}],"row-start-end":[{row:["auto",{span:[it,k]},k]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",k]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",k]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[je]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[je]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",k,e]}],"min-w":[{"min-w":[k,e,"min","max","fit"]}],"max-w":[{"max-w":[k,e,"none","full","min","max","fit","prose",{screen:[_e]},_e]}],h:[{h:[k,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[k,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[k,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[k,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_e,we]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ar]}],"font-family":[{font:[ot]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",k]}],"line-clamp":[{"line-clamp":["none",Je,ar]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",he,k]}],"list-image":[{"list-image":["none",k]}],"list-style-type":[{list:["none","disc","decimal",k]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",he,we]}],"underline-offset":[{"underline-offset":["auto",he,k]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",k]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",k]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),xc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_c]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kc]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:V()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[he,k]}],"outline-w":[{outline:[he,we]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[he,we]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",_e,Ec]}],"shadow-color":[{shadow:[ot]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_e,k]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",k]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",k]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",k]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[it,k]}],"translate-x":[{"translate-x":[Pe]}],"translate-y":[{"translate-y":[Pe]}],"skew-x":[{"skew-x":[ee]}],"skew-y":[{"skew-y":[ee]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",k]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",k]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",k]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[he,we,ar]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cc=dc(Pc);function me(...r){return Cc(In(r))}const Oc=bi,Bn=w.forwardRef(({className:r,...e},t)=>f.jsx(Os,{ref:t,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...e}));Bn.displayName=Os.displayName;const Ac=Nn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zn=w.forwardRef(({className:r,variant:e,...t},s)=>f.jsx(As,{ref:s,className:me(Ac({variant:e}),r),...t}));zn.displayName=As.displayName;const Rc=w.forwardRef(({className:r,...e},t)=>f.jsx(Rs,{ref:t,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...e}));Rc.displayName=Rs.displayName;const qn=w.forwardRef(({className:r,...e},t)=>f.jsx(Is,{ref:t,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...e,children:f.jsx(Fs,{className:"h-4 w-4"})}));qn.displayName=Is.displayName;const Hn=w.forwardRef(({className:r,...e},t)=>f.jsx(Ns,{ref:t,className:me("text-sm font-semibold",r),...e}));Hn.displayName=Ns.displayName;const Vn=w.forwardRef(({className:r,...e},t)=>f.jsx(Ls,{ref:t,className:me("text-sm opacity-90",r),...e}));Vn.displayName=Ls.displayName;function Ic(){const{toasts:r}=Yl();return f.jsxs(Oc,{children:[r.map(function({id:e,title:t,description:s,action:n,...i}){return f.jsxs(zn,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[t&&f.jsx(Hn,{children:t}),s&&f.jsx(Vn,{children:s})]}),n,f.jsx(qn,{})]},e)}),f.jsx(Bn,{})]})}var _s=["light","dark"],Nc="(prefers-color-scheme: dark)",Lc=w.createContext(void 0),Dc={setTheme:r=>{},themes:[]},Mc=()=>{var r;return(r=w.useContext(Lc))!=null?r:Dc};w.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:n,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=n?_s.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(m,g=!1,v=!0)=>{let b=o?o[m]:m,_=g?m+"|| ''":`'${b}'`,S="";return n&&v&&!g&&_s.includes(m)&&(S+=`d.style.colorScheme = '${m}';`),t==="class"?g||b?S+=`c.add(${_})`:S+="null":b&&(S+=`d[s](n,${_})`),S},p=r?`!function(){${u}${d(r)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Nc}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${c?"":"else{"+d(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${h}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var Uc=r=>{switch(r){case"success":return zc;case"info":return Hc;case"warning":return qc;case"error":return Vc;default:return null}},Fc=Array(12).fill(0),Bc=({visible:r})=>y.createElement("div",{className:"sonner-loading-wrapper","data-visible":r},y.createElement("div",{className:"sonner-spinner"},Fc.map((e,t)=>y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),zc=y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qc=y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Hc=y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Vc=y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Gc=()=>{let[r,e]=y.useState(document.hidden);return y.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r},xr=1,Kc=class{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{let e=this.subscribers.indexOf(r);this.subscribers.splice(e,1)}),this.publish=r=>{this.subscribers.forEach(e=>e(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var e;let{message:t,...s}=r,n=typeof r?.id=="number"||((e=r.id)==null?void 0:e.length)>0?r.id:xr++,i=this.toasts.find(a=>a.id===n),o=r.dismissible===void 0?!0:r.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===n?(this.publish({...a,...r,id:n,title:t}),{...a,...r,id:n,dismissible:o,title:t}):a):this.addToast({title:t,...s,dismissible:o,id:n}),n},this.dismiss=r=>(r||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:r,dismiss:!0})),r),this.message=(r,e)=>this.create({...e,message:r}),this.error=(r,e)=>this.create({...e,message:r,type:"error"}),this.success=(r,e)=>this.create({...e,type:"success",message:r}),this.info=(r,e)=>this.create({...e,type:"info",message:r}),this.warning=(r,e)=>this.create({...e,type:"warning",message:r}),this.loading=(r,e)=>this.create({...e,type:"loading",message:r}),this.promise=(r,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:r,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=r instanceof Promise?r:r(),n=t!==void 0;return s.then(async i=>{if(Wc(i)&&!i.ok){n=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:t,type:"error",message:o,description:a})}else if(e.success!==void 0){n=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:t,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){n=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:t,type:"error",message:o,description:a})}}).finally(()=>{var i;n&&(this.dismiss(t),t=void 0),(i=e.finally)==null||i.call(e)}),t},this.custom=(r,e)=>{let t=e?.id||xr++;return this.create({jsx:r(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},W=new Kc,Jc=(r,e)=>{let t=e?.id||xr++;return W.addToast({title:r,...e,id:t}),t},Wc=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",Qc=Jc,Yc=()=>W.toasts;Object.assign(Qc,{success:W.success,info:W.info,warning:W.warning,error:W.error,custom:W.custom,message:W.message,promise:W.promise,dismiss:W.dismiss,loading:W.loading},{getHistory:Yc});function Xc(r,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}Xc(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function St(r){return r.label!==void 0}var Zc=3,eu="32px",tu=4e3,ru=356,su=14,nu=20,iu=200;function ou(...r){return r.filter(Boolean).join(" ")}var au=r=>{var e,t,s,n,i,o,a,l,c,u;let{invert:h,toast:d,unstyled:p,interacting:m,setHeights:g,visibleToasts:v,heights:b,index:_,toasts:S,expanded:T,removeToast:x,defaultRichColors:ee,closeButton:je,style:Pe,cancelButtonStyle:Ce,actionButtonStyle:Oe,className:Y="",descriptionClassName:O="",duration:ge,position:ve,gap:de,loadingIcon:V,expandByDefault:ye,classNames:C,icons:z,closeButtonAriaLabel:De="Close toast",pauseWhenPageIsHidden:j,cn:N}=r,[M,oe]=y.useState(!1),[Ae,U]=y.useState(!1),[Jt,et]=y.useState(!1),[tt,rt]=y.useState(!1),[li,Wt]=y.useState(0),[ci,Ur]=y.useState(0),Fr=y.useRef(null),Me=y.useRef(null),ui=_===0,di=_+1<=v,X=d.type,Ue=d.dismissible!==!1,hi=d.className||"",fi=d.descriptionClassName||"",bt=y.useMemo(()=>b.findIndex($=>$.toastId===d.id)||0,[b,d.id]),pi=y.useMemo(()=>{var $;return($=d.closeButton)!=null?$:je},[d.closeButton,je]),Br=y.useMemo(()=>d.duration||ge||tu,[d.duration,ge]),Qt=y.useRef(0),Fe=y.useRef(0),zr=y.useRef(0),Be=y.useRef(null),[qr,mi]=ve.split("-"),Hr=y.useMemo(()=>b.reduce(($,L,A)=>A>=bt?$:$+L.height,0),[b,bt]),Vr=Gc(),gi=d.invert||h,Yt=X==="loading";Fe.current=y.useMemo(()=>bt*de+Hr,[bt,Hr]),y.useEffect(()=>{oe(!0)},[]),y.useLayoutEffect(()=>{if(!M)return;let $=Me.current,L=$.style.height;$.style.height="auto";let A=$.getBoundingClientRect().height;$.style.height=L,Ur(A),g(ae=>ae.find(le=>le.toastId===d.id)?ae.map(le=>le.toastId===d.id?{...le,height:A}:le):[{toastId:d.id,height:A,position:d.position},...ae])},[M,d.title,d.description,g,d.id]);let be=y.useCallback(()=>{U(!0),Wt(Fe.current),g($=>$.filter(L=>L.toastId!==d.id)),setTimeout(()=>{x(d)},iu)},[d,x,g,Fe]);y.useEffect(()=>{if(d.promise&&X==="loading"||d.duration===1/0||d.type==="loading")return;let $,L=Br;return T||m||j&&Vr?(()=>{if(zr.current<Qt.current){let A=new Date().getTime()-Qt.current;L=L-A}zr.current=new Date().getTime()})():L!==1/0&&(Qt.current=new Date().getTime(),$=setTimeout(()=>{var A;(A=d.onAutoClose)==null||A.call(d,d),be()},L)),()=>clearTimeout($)},[T,m,ye,d,Br,be,d.promise,X,j,Vr]),y.useEffect(()=>{let $=Me.current;if($){let L=$.getBoundingClientRect().height;return Ur(L),g(A=>[{toastId:d.id,height:L,position:d.position},...A]),()=>g(A=>A.filter(ae=>ae.toastId!==d.id))}},[g,d.id]),y.useEffect(()=>{d.delete&&be()},[be,d.delete]);function vi(){return z!=null&&z.loading?y.createElement("div",{className:"sonner-loader","data-visible":X==="loading"},z.loading):V?y.createElement("div",{className:"sonner-loader","data-visible":X==="loading"},V):y.createElement(Bc,{visible:X==="loading"})}return y.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Me,className:N(Y,hi,C?.toast,(e=d?.classNames)==null?void 0:e.toast,C?.default,C?.[X],(t=d?.classNames)==null?void 0:t[X]),"data-sonner-toast":"","data-rich-colors":(s=d.richColors)!=null?s:ee,"data-styled":!(d.jsx||d.unstyled||p),"data-mounted":M,"data-promise":!!d.promise,"data-removed":Ae,"data-visible":di,"data-y-position":qr,"data-x-position":mi,"data-index":_,"data-front":ui,"data-swiping":Jt,"data-dismissible":Ue,"data-type":X,"data-invert":gi,"data-swipe-out":tt,"data-expanded":!!(T||ye&&M),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${Ae?li:Fe.current}px`,"--initial-height":ye?"auto":`${ci}px`,...Pe,...d.style},onPointerDown:$=>{Yt||!Ue||(Fr.current=new Date,Wt(Fe.current),$.target.setPointerCapture($.pointerId),$.target.tagName!=="BUTTON"&&(et(!0),Be.current={x:$.clientX,y:$.clientY}))},onPointerUp:()=>{var $,L,A,ae;if(tt||!Ue)return;Be.current=null;let le=Number((($=Me.current)==null?void 0:$.style.getPropertyValue("--swipe-amount").replace("px",""))||0),wt=new Date().getTime()-((L=Fr.current)==null?void 0:L.getTime()),yi=Math.abs(le)/wt;if(Math.abs(le)>=nu||yi>.11){Wt(Fe.current),(A=d.onDismiss)==null||A.call(d,d),be(),rt(!0);return}(ae=Me.current)==null||ae.style.setProperty("--swipe-amount","0px"),et(!1)},onPointerMove:$=>{var L;if(!Be.current||!Ue)return;let A=$.clientY-Be.current.y,ae=$.clientX-Be.current.x,le=(qr==="top"?Math.min:Math.max)(0,A),wt=$.pointerType==="touch"?10:2;Math.abs(le)>wt?(L=Me.current)==null||L.style.setProperty("--swipe-amount",`${A}px`):Math.abs(ae)>wt&&(Be.current=null)}},pi&&!d.jsx?y.createElement("button",{"aria-label":De,"data-disabled":Yt,"data-close-button":!0,onClick:Yt||!Ue?()=>{}:()=>{var $;be(),($=d.onDismiss)==null||$.call(d,d)},className:N(C?.closeButton,(n=d?.classNames)==null?void 0:n.closeButton)},y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||y.isValidElement(d.title)?d.jsx||d.title:y.createElement(y.Fragment,null,X||d.icon||d.promise?y.createElement("div",{"data-icon":"",className:N(C?.icon,(i=d?.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||vi():null,d.type!=="loading"?d.icon||z?.[X]||Uc(X):null):null,y.createElement("div",{"data-content":"",className:N(C?.content,(o=d?.classNames)==null?void 0:o.content)},y.createElement("div",{"data-title":"",className:N(C?.title,(a=d?.classNames)==null?void 0:a.title)},d.title),d.description?y.createElement("div",{"data-description":"",className:N(O,fi,C?.description,(l=d?.classNames)==null?void 0:l.description)},d.description):null),y.isValidElement(d.cancel)?d.cancel:d.cancel&&St(d.cancel)?y.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||Ce,onClick:$=>{var L,A;St(d.cancel)&&Ue&&((A=(L=d.cancel).onClick)==null||A.call(L,$),be())},className:N(C?.cancelButton,(c=d?.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,y.isValidElement(d.action)?d.action:d.action&&St(d.action)?y.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||Oe,onClick:$=>{var L,A;St(d.action)&&($.defaultPrevented||((A=(L=d.action).onClick)==null||A.call(L,$),be()))},className:N(C?.actionButton,(u=d?.classNames)==null?void 0:u.actionButton)},d.action.label):null))};function xs(){if(typeof window>"u"||typeof document>"u")return"ltr";let r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}var lu=r=>{let{invert:e,position:t="bottom-right",hotkey:s=["altKey","KeyT"],expand:n,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:h,visibleToasts:d=Zc,toastOptions:p,dir:m=xs(),gap:g=su,loadingIcon:v,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S,cn:T=ou}=r,[x,ee]=y.useState([]),je=y.useMemo(()=>Array.from(new Set([t].concat(x.filter(j=>j.position).map(j=>j.position)))),[x,t]),[Pe,Ce]=y.useState([]),[Oe,Y]=y.useState(!1),[O,ge]=y.useState(!1),[ve,de]=y.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=y.useRef(null),ye=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=y.useRef(null),z=y.useRef(!1),De=y.useCallback(j=>{var N;(N=x.find(M=>M.id===j.id))!=null&&N.delete||W.dismiss(j.id),ee(M=>M.filter(({id:oe})=>oe!==j.id))},[x]);return y.useEffect(()=>W.subscribe(j=>{if(j.dismiss){ee(N=>N.map(M=>M.id===j.id?{...M,delete:!0}:M));return}setTimeout(()=>{Ai.flushSync(()=>{ee(N=>{let M=N.findIndex(oe=>oe.id===j.id);return M!==-1?[...N.slice(0,M),{...N[M],...j},...N.slice(M+1)]:[j,...N]})})})}),[]),y.useEffect(()=>{if(l!=="system"){de(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:j})=>{de(j?"dark":"light")})},[l]),y.useEffect(()=>{x.length<=1&&Y(!1)},[x]),y.useEffect(()=>{let j=N=>{var M,oe;s.every(Ae=>N[Ae]||N.code===Ae)&&(Y(!0),(M=V.current)==null||M.focus()),N.code==="Escape"&&(document.activeElement===V.current||(oe=V.current)!=null&&oe.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),y.useEffect(()=>{if(V.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,z.current=!1)}},[V.current]),x.length?y.createElement("section",{"aria-label":`${_} ${ye}`,tabIndex:-1},je.map((j,N)=>{var M;let[oe,Ae]=j.split("-");return y.createElement("ol",{key:j,dir:m==="auto"?xs():m,tabIndex:-1,ref:V,className:o,"data-sonner-toaster":!0,"data-theme":ve,"data-y-position":oe,"data-x-position":Ae,style:{"--front-toast-height":`${((M=Pe[0])==null?void 0:M.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||eu,"--width":`${ru}px`,"--gap":`${g}px`,...h},onBlur:U=>{z.current&&!U.currentTarget.contains(U.relatedTarget)&&(z.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||z.current||(z.current=!0,C.current=U.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{O||Y(!1)},onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},x.filter(U=>!U.position&&N===0||U.position===j).map((U,Jt)=>{var et,tt;return y.createElement(au,{key:U.id,icons:b,index:Jt,toast:U,defaultRichColors:c,duration:(et=p?.duration)!=null?et:u,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:e,visibleToasts:d,closeButton:(tt=p?.closeButton)!=null?tt:i,interacting:O,position:j,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:De,toasts:x.filter(rt=>rt.position==U.position),heights:Pe.filter(rt=>rt.position==U.position),setHeights:Ce,expandByDefault:n,gap:g,loadingIcon:v,expanded:Oe,pauseWhenPageIsHidden:S,cn:T})}))})):null};const cu=({...r})=>{const{theme:e="system"}=Mc();return f.jsx(lu,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})};var[Ht,Ld]=wi("Tooltip",[Ds]),Lr=Ds(),Gn="TooltipProvider",uu=700,$s="tooltip.open",[du,Kn]=Ht(Gn),Jn=r=>{const{__scopeTooltip:e,delayDuration:t=uu,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:i}=r,[o,a]=w.useState(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(du,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:n,children:i})};Jn.displayName=Gn;var Wn="Tooltip",[Dd,Vt]=Ht(Wn),$r="TooltipTrigger",hu=w.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=Vt($r,t),i=Kn($r,t),o=Lr(t),a=w.useRef(null),l=Ms(e,a,n.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),h=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(_i,{asChild:!0,...o,children:f.jsx(xi.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:l,onPointerMove:ze(r.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:ze(r.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:ze(r.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ze(r.onFocus,()=>{c.current||n.onOpen()}),onBlur:ze(r.onBlur,n.onClose),onClick:ze(r.onClick,n.onClose)})})});hu.displayName=$r;var fu="TooltipPortal",[Md,pu]=Ht(fu,{forceMount:void 0}),Qe="TooltipContent",Qn=w.forwardRef((r,e)=>{const t=pu(Qe,r.__scopeTooltip),{forceMount:s=t.forceMount,side:n="top",...i}=r,o=Vt(Qe,r.__scopeTooltip);return f.jsx($i,{present:s||o.open,children:o.disableHoverableContent?f.jsx(Yn,{side:n,...i,ref:e}):f.jsx(mu,{side:n,...i,ref:e})})}),mu=w.forwardRef((r,e)=>{const t=Vt(Qe,r.__scopeTooltip),s=Kn(Qe,r.__scopeTooltip),n=w.useRef(null),i=Ms(e,n),[o,a]=w.useState(null),{trigger:l,onClose:c}=t,u=n.current,{onPointerInTransitChange:h}=s,d=w.useCallback(()=>{a(null),h(!1)},[h]),p=w.useCallback((m,g)=>{const v=m.currentTarget,b={x:m.clientX,y:m.clientY},_=bu(b,v.getBoundingClientRect()),S=wu(b,_),T=_u(g.getBoundingClientRect()),x=$u([...S,...T]);a(x),h(!0)},[h]);return w.useEffect(()=>()=>d(),[d]),w.useEffect(()=>{if(l&&u){const m=v=>p(v,u),g=v=>p(v,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,d]),w.useEffect(()=>{if(o){const m=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},_=l?.contains(v)||u?.contains(v),S=!xu(b,o);_?d():S&&(d(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,d]),f.jsx(Yn,{...r,ref:i})}),[gu,vu]=Ht(Wn,{isInside:!1}),Yn=w.forwardRef((r,e)=>{const{__scopeTooltip:t,children:s,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=r,l=Vt(Qe,t),c=Lr(t),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener($s,u),()=>document.removeEventListener($s,u)),[u]),w.useEffect(()=>{if(l.trigger){const h=d=>{d.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),f.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:f.jsxs(Ei,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Si,{children:s}),f.jsx(gu,{scope:t,isInside:!0,children:f.jsx(Ti,{id:l.contentId,role:"tooltip",children:n||s})})]})})});Qn.displayName=Qe;var Xn="TooltipArrow",yu=w.forwardRef((r,e)=>{const{__scopeTooltip:t,...s}=r,n=Lr(t);return vu(Xn,t).isInside?null:f.jsx(ji,{...n,...s,ref:e})});yu.displayName=Xn;function bu(r,e){const t=Math.abs(e.top-r.y),s=Math.abs(e.bottom-r.y),n=Math.abs(e.right-r.x),i=Math.abs(e.left-r.x);switch(Math.min(t,s,n,i)){case i:return"left";case n:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function wu(r,e,t=5){const s=[];switch(e){case"top":s.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":s.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":s.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":s.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return s}function _u(r){const{top:e,right:t,bottom:s,left:n}=r;return[{x:n,y:e},{x:t,y:e},{x:t,y:s},{x:n,y:s}]}function xu(r,e){const{x:t,y:s}=r;let n=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>s!=u>s&&t<(c-a)*(s-l)/(u-l)+a&&(n=!n)}return n}function $u(r){const e=r.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),ku(e)}function ku(r){if(r.length<=1)return r.slice();const e=[];for(let s=0;s<r.length;s++){const n=r[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))e.pop();else break}e.push(n)}e.pop();const t=[];for(let s=r.length-1;s>=0;s--){const n=r[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Eu=Jn,Zn=Qn;const Su=Eu,Tu=w.forwardRef(({className:r,sideOffset:e=4,...t},s)=>f.jsx(Zn,{ref:s,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...t}));Tu.displayName=Zn.displayName;var Gt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kt=typeof window>"u"||"Deno"in globalThis;function re(){}function ju(r,e){return typeof r=="function"?r(e):r}function Pu(r){return typeof r=="number"&&r>=0&&r!==1/0}function Cu(r,e){return Math.max(r+(e||0)-Date.now(),0)}function ks(r,e){return typeof r=="function"?r(e):r}function Ou(r,e){return typeof r=="function"?r(e):r}function Es(r,e){const{type:t="all",exact:s,fetchStatus:n,predicate:i,queryKey:o,stale:a}=r;if(o){if(s){if(e.queryHash!==Dr(o,e.options))return!1}else if(!gt(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||i&&!i(e))}function Ss(r,e){const{exact:t,status:s,predicate:n,mutationKey:i}=r;if(i){if(!e.options.mutationKey)return!1;if(t){if(mt(e.options.mutationKey)!==mt(i))return!1}else if(!gt(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function Dr(r,e){return(e?.queryKeyHashFn||mt)(r)}function mt(r){return JSON.stringify(r,(e,t)=>kr(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function gt(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!gt(r[t],e[t])):!1}function ei(r,e){if(r===e)return r;const t=Ts(r)&&Ts(e);if(t||kr(r)&&kr(e)){const s=t?r:Object.keys(r),n=s.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:i[c];(!t&&s.includes(u)||t)&&r[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=ei(r[u],e[u]),a[u]===r[u]&&r[u]!==void 0&&l++)}return n===o&&l===n?r:a}return e}function Ts(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function kr(r){if(!js(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!js(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function js(r){return Object.prototype.toString.call(r)==="[object Object]"}function Au(r){return new Promise(e=>{setTimeout(e,r)})}function Ru(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?ei(r,e):e}function Iu(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function Nu(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var Mr=Symbol();function ti(r,e){return!r.queryFn&&e?.initialPromise?()=>e.initialPromise:!r.queryFn||r.queryFn===Mr?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Lu=class extends Gt{#e;#t;#r;constructor(){super(),this.#r=r=>{if(!Kt&&window.addEventListener){const e=()=>r();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#r=r,this.#t?.(),this.#t=r(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(r){this.#e!==r&&(this.#e=r,this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(e=>{e(r)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ri=new Lu,Du=class extends Gt{#e=!0;#t;#r;constructor(){super(),this.#r=r=>{if(!Kt&&window.addEventListener){const e=()=>r(!0),t=()=>r(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#r=r,this.#t?.(),this.#t=r(this.setOnline.bind(this))}setOnline(r){this.#e!==r&&(this.#e=r,this.listeners.forEach(t=>{t(r)}))}isOnline(){return this.#e}},It=new Du;function Mu(){let r,e;const t=new Promise((n,i)=>{r=n,e=i});t.status="pending",t.catch(()=>{});function s(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{s({status:"fulfilled",value:n}),r(n)},t.reject=n=>{s({status:"rejected",reason:n}),e(n)},t}function Uu(r){return Math.min(1e3*2**r,3e4)}function si(r){return(r??"online")==="online"?It.isOnline():!0}var ni=class extends Error{constructor(r){super("CancelledError"),this.revert=r?.revert,this.silent=r?.silent}};function lr(r){return r instanceof ni}function ii(r){let e=!1,t=0,s=!1,n;const i=Mu(),o=g=>{s||(d(new ni(g)),r.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>ri.isFocused()&&(r.networkMode==="always"||It.isOnline())&&r.canRun(),u=()=>si(r.networkMode)&&r.canRun(),h=g=>{s||(s=!0,r.onSuccess?.(g),n?.(),i.resolve(g))},d=g=>{s||(s=!0,r.onError?.(g),n?.(),i.reject(g))},p=()=>new Promise(g=>{n=v=>{(s||c())&&g(v)},r.onPause?.()}).then(()=>{n=void 0,s||r.onContinue?.()}),m=()=>{if(s)return;let g;const v=t===0?r.initialPromise:void 0;try{g=v??r.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{if(s)return;const _=r.retry??(Kt?0:3),S=r.retryDelay??Uu,T=typeof S=="function"?S(t,b):S,x=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,b);if(e||!x){d(b);return}t++,r.onFail?.(t,b),Au(T).then(()=>c()?void 0:p()).then(()=>{e?d(b):m()})})};return{promise:i,cancel:o,continue:()=>(n?.(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),i)}}function Fu(){let r=[],e=0,t=a=>{a()},s=a=>{a()},n=a=>setTimeout(a,0);const i=a=>{e?r.push(a):n(()=>{t(a)})},o=()=>{const a=r;r=[],a.length&&n(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{n=a}}}var H=Fu(),oi=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pu(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Kt?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Bu=class extends oi{#e;#t;#r;#s;#o;#i;constructor(r){super(),this.#i=!1,this.#o=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.#r=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.#e=qu(this.options),this.state=r.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(r){this.options={...this.#o,...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(r,e){const t=Ru(this.state.data,r,this.options);return this.#n({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(r,e){this.#n({type:"setState",state:r,setStateOptions:e})}cancel(r){const e=this.#s?.promise;return this.#s?.cancel(r),e?e.then(re).catch(re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(r=>Ou(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!Cu(this.state.dataUpdatedAt,r)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(e=>e!==r),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}fetch(r,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(r&&this.setOptions(r),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const t=new AbortController,s=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#i=!0,t.signal)})},n=()=>{const a=ti(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return s(l),this.#i=!1,this.options.persister?this.options.persister(a,l,this):a(l)},i={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:n};s(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#n({type:"fetch",meta:i.fetchOptions?.meta});const o=a=>{lr(a)&&a.silent||this.#n({type:"error",error:a}),lr(a)||(this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#s=ii({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:t.abort.bind(t),onSuccess:a=>{if(a===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(l){o(l);return}this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:o,onFail:(a,l)=>{this.#n({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#s.start()}#n(r){const e=t=>{switch(r.type){case"failed":return{...t,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...zu(t.data,this.options),fetchMeta:r.meta??null};case"success":return{...t,data:r.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return lr(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...r.state}}};this.state=e(this.state),H.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:r})})}};function zu(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:si(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function qu(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Hu=class extends Gt{constructor(r={}){super(),this.config=r,this.#e=new Map}#e;build(r,e,t){const s=e.queryKey,n=e.queryHash??Dr(s,e);let i=this.get(n);return i||(i=new Bu({cache:this,queryKey:s,queryHash:n,options:r.defaultQueryOptions(e),state:t,defaultOptions:r.getQueryDefaults(s)}),this.add(i)),i}add(r){this.#e.has(r.queryHash)||(this.#e.set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const e=this.#e.get(r.queryHash);e&&(r.destroy(),e===r&&this.#e.delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){H.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return this.#e.get(r)}getAll(){return[...this.#e.values()]}find(r){const e={exact:!0,...r};return this.getAll().find(t=>Es(e,t))}findAll(r={}){const e=this.getAll();return Object.keys(r).length>0?e.filter(t=>Es(r,t)):e}notify(r){H.batch(()=>{this.listeners.forEach(e=>{e(r)})})}onFocus(){H.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){H.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Vu=class extends oi{#e;#t;#r;constructor(r){super(),this.mutationId=r.mutationId,this.#t=r.mutationCache,this.#e=[],this.state=r.state||Gu(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){this.#e.includes(r)||(this.#e.push(r),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){this.#e=this.#e.filter(e=>e!==r),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(r){this.#r=ii({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(s,n)=>{this.#s({type:"failed",failureCount:s,error:n})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",t=!this.#r.canStart();try{if(!e){this.#s({type:"pending",variables:r,isPaused:t}),await this.#t.config.onMutate?.(r,this);const n=await this.options.onMutate?.(r);n!==this.state.context&&this.#s({type:"pending",context:n,variables:r,isPaused:t})}const s=await this.#r.start();return await this.#t.config.onSuccess?.(s,r,this.state.context,this),await this.options.onSuccess?.(s,r,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,r,this.state.context),this.#s({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,r,this.state.context,this),await this.options.onError?.(s,r,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,r,this.state.context),s}finally{this.#s({type:"error",error:s})}}finally{this.#t.runNext(this)}}#s(r){const e=t=>{switch(r.type){case"failed":return{...t,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...t,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:r.error,failureCount:t.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=e(this.state),H.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(r)}),this.#t.notify({mutation:this,type:"updated",action:r})})}};function Gu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ku=class extends Gt{constructor(r={}){super(),this.config=r,this.#e=new Map,this.#t=Date.now()}#e;#t;build(r,e,t){const s=new Vu({mutationCache:this,mutationId:++this.#t,options:r.defaultMutationOptions(e),state:t});return this.add(s),s}add(r){const e=Tt(r),t=this.#e.get(e)??[];t.push(r),this.#e.set(e,t),this.notify({type:"added",mutation:r})}remove(r){const e=Tt(r);if(this.#e.has(e)){const t=this.#e.get(e)?.filter(s=>s!==r);t&&(t.length===0?this.#e.delete(e):this.#e.set(e,t))}this.notify({type:"removed",mutation:r})}canRun(r){const e=this.#e.get(Tt(r))?.find(t=>t.state.status==="pending");return!e||e===r}runNext(r){return this.#e.get(Tt(r))?.find(t=>t!==r&&t.state.isPaused)?.continue()??Promise.resolve()}clear(){H.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}getAll(){return[...this.#e.values()].flat()}find(r){const e={exact:!0,...r};return this.getAll().find(t=>Ss(e,t))}findAll(r={}){return this.getAll().filter(e=>Ss(r,e))}notify(r){H.batch(()=>{this.listeners.forEach(e=>{e(r)})})}resumePausedMutations(){const r=this.getAll().filter(e=>e.state.isPaused);return H.batch(()=>Promise.all(r.map(e=>e.continue().catch(re))))}};function Tt(r){return r.options.scope?.id??String(r.mutationId)}function Ps(r){return{onFetch:(e,t)=>{const s=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const h=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},d=ti(e.options,e.fetchOptions),p=async(m,g,v)=>{if(u)return Promise.reject();if(g==null&&m.pages.length)return Promise.resolve(m);const b={queryKey:e.queryKey,pageParam:g,direction:v?"backward":"forward",meta:e.options.meta};h(b);const _=await d(b),{maxPages:S}=e.options,T=v?Nu:Iu;return{pages:T(m.pages,_,S),pageParams:T(m.pageParams,g,S)}};if(n&&i.length){const m=n==="backward",g=m?Ju:Cs,v={pages:i,pageParams:o},b=g(s,v);a=await p(v,b,m)}else{const m=r??i.length;do{const g=l===0?o[0]??s.initialPageParam:Cs(s,a);if(l>0&&g==null)break;a=await p(a,g),l++}while(l<m)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=c}}}function Cs(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function Ju(r,{pages:e,pageParams:t}){return e.length>0?r.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var Wu=class{#e;#t;#r;#s;#o;#i;#n;#a;constructor(r={}){this.#e=r.queryCache||new Hu,this.#t=r.mutationCache||new Ku,this.#r=r.defaultOptions||{},this.#s=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#n=ri.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=It.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#n?.(),this.#n=void 0,this.#a?.(),this.#a=void 0)}isFetching(r){return this.#e.findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return this.#t.findAll({...r,status:"pending"}).length}getQueryData(r){const e=this.defaultQueryOptions({queryKey:r});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(r){const e=this.getQueryData(r.queryKey);if(e===void 0)return this.fetchQuery(r);{const t=this.defaultQueryOptions(r),s=this.#e.build(this,t);return r.revalidateIfStale&&s.isStaleByTime(ks(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(r){return this.#e.findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),i=this.#e.get(s.queryHash)?.state.data,o=ju(e,i);if(o!==void 0)return this.#e.build(this,s).setData(o,{...t,manual:!0})}setQueriesData(r,e,t){return H.batch(()=>this.#e.findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){const e=this.defaultQueryOptions({queryKey:r});return this.#e.get(e.queryHash)?.state}removeQueries(r){const e=this.#e;H.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=this.#e,s={type:"active",...r};return H.batch(()=>(t.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(r={},e={}){const t={revert:!0,...e},s=H.batch(()=>this.#e.findAll(r).map(n=>n.cancel(t)));return Promise.all(s).then(re).catch(re)}invalidateQueries(r={},e={}){return H.batch(()=>{if(this.#e.findAll(r).forEach(s=>{s.invalidate()}),r.refetchType==="none")return Promise.resolve();const t={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(r={},e){const t={...e,cancelRefetch:e?.cancelRefetch??!0},s=H.batch(()=>this.#e.findAll(r).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(re)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(re)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(ks(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(re).catch(re)}fetchInfiniteQuery(r){return r.behavior=Ps(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(re).catch(re)}ensureInfiniteQueryData(r){return r.behavior=Ps(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return It.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(r){this.#r=r}setQueryDefaults(r,e){this.#s.set(mt(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...this.#s.values()];let t={};return e.forEach(s=>{gt(r,s.queryKey)&&(t={...t,...s.defaultOptions})}),t}setMutationDefaults(r,e){this.#o.set(mt(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...this.#o.values()];let t={};return e.forEach(s=>{gt(r,s.mutationKey)&&(t={...t,...s.defaultOptions})}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...this.#r.queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Dr(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Mr&&(e.enabled=!1),e}defaultMutationOptions(r){return r?._defaulted?r:{...this.#r.mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Qu=w.createContext(void 0),Yu=({client:r,children:e})=>(w.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),f.jsx(Qu.Provider,{value:r,children:e}));const Xu=Nn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ai=w.forwardRef(({className:r,variant:e,size:t,asChild:s=!1,...n},i)=>{const o=s?Pi:"button";return f.jsx(o,{className:me(Xu({variant:e,size:t,className:r})),ref:i,...n})});ai.displayName="Button";const Zu=()=>{const[r,e]=w.useState(!1),t=Us(),s=[{name:"Dashboard",href:"/dashboard",icon:Ot},{name:"Lessons",href:"/lessons",icon:Bs},{name:"Milestones",href:"/milestones",icon:Mi},{name:"Duas",href:"/duas",icon:cr},{name:"Journal",href:"/journal",icon:cr},{name:"Community",href:"/community",icon:Ui}],n=i=>t.pathname===i;return f.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:f.jsxs("div",{className:"container-app px-4 sm:px-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4",children:[f.jsx("div",{className:"flex items-center",children:f.jsxs(ue,{to:"/",className:"flex items-center gap-1 sm:gap-2",children:[f.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-islamic-green flex items-center justify-center",children:f.jsx(Ot,{className:"h-4 w-4 sm:h-5 sm:w-5 text-islamic-cream"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg sm:text-xl font-bold text-islamic-green",children:"Iman Journey"}),f.jsx("p",{className:"text-xs text-islamic-teal",children:"For Muslim Fathers"})]})]})}),f.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:s.map(i=>f.jsx(ue,{to:i.href,className:`nav-link ${n(i.href)?"active":""}`,children:f.jsx("span",{children:i.name})},i.name))}),f.jsx("div",{className:"md:hidden",children:f.jsx(ai,{variant:"ghost",size:"icon",onClick:()=>e(!r),"aria-label":"Toggle menu",className:"h-8 w-8 sm:h-9 sm:w-9",children:r?f.jsx(Fs,{className:"h-5 w-5 sm:h-6 sm:w-6"}):f.jsx(Di,{className:"h-5 w-5 sm:h-6 sm:w-6"})})})]}),r&&f.jsx("div",{className:"md:hidden py-3 sm:py-4 border-t",children:f.jsx("nav",{className:"flex flex-col space-y-2",children:s.map(i=>f.jsxs(ue,{to:i.href,className:`flex items-center gap-2 nav-link py-2 ${n(i.href)?"active":""}`,onClick:()=>e(!1),children:[f.jsx(i.icon,{className:"h-4 w-4 sm:h-5 sm:w-5"}),f.jsx("span",{className:"text-sm sm:text-base",children:i.name})]},i.name))})})]})})},ed=()=>f.jsx("footer",{className:"bg-islamic-cream py-6 sm:py-8 border-t border-islamic-sand/30 hidden md:block",children:f.jsxs("div",{className:"container-app px-4 sm:px-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 sm:gap-8",children:[f.jsxs("div",{className:"md:col-span-1",children:[f.jsxs(ue,{to:"/",className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-islamic-green flex items-center justify-center",children:f.jsx(Ot,{className:"h-4 w-4 sm:h-5 sm:w-5 text-islamic-cream"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-islamic-green",children:"Iman Journey"}),f.jsx("p",{className:"text-xs text-islamic-teal",children:"For Muslim Fathers"})]})]}),f.jsx("p",{className:"mt-3 sm:mt-4 text-xs sm:text-sm text-islamic-green/80",children:"Supporting Muslim fathers on their journey through parenthood with Islamic wisdom and practical guidance."})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-islamic-green mb-3 sm:mb-4 text-sm sm:text-base",children:"Features"}),f.jsxs("ul",{className:"space-y-1.5 sm:space-y-2",children:[f.jsx("li",{children:f.jsx(ue,{to:"/lessons",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Parenting Lessons"})}),f.jsx("li",{children:f.jsx(ue,{to:"/milestones",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Child Milestones"})}),f.jsx("li",{children:f.jsx(ue,{to:"/duas",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Duas Collection"})}),f.jsx("li",{children:f.jsx(ue,{to:"/journal",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Journal"})}),f.jsx("li",{children:f.jsx(ue,{to:"/community",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Community"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-islamic-green mb-3 sm:mb-4 text-sm sm:text-base",children:"Support"}),f.jsxs("ul",{className:"space-y-1.5 sm:space-y-2",children:[f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Help Center"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Privacy Policy"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Terms of Service"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Contact Us"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-islamic-green mb-3 sm:mb-4 text-sm sm:text-base",children:"Connect"}),f.jsx("p",{className:"text-xs sm:text-sm mb-3 sm:mb-4",children:"Join our community of Muslim fathers supporting each other."}),f.jsxs("div",{className:"flex space-x-3 sm:space-x-4",children:[f.jsx("a",{href:"#",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Facebook"}),f.jsx("a",{href:"#",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Twitter"}),f.jsx("a",{href:"#",className:"text-xs sm:text-sm hover:text-islamic-teal",children:"Instagram"})]})]})]}),f.jsx("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-islamic-sand/30 text-center",children:f.jsxs("p",{className:"text-xs sm:text-sm text-islamic-green/60",children:["© ",new Date().getFullYear()," Iman Journey. All rights reserved."]})})]})}),at=({children:r})=>{const{user:e,loading:t}=An();return t?f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsx(Zu,{}),f.jsx("main",{className:"flex-grow flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-b-2 border-t-2 border-islamic-green mb-4"}),f.jsx("p",{className:"text-gray-500",children:"Loading..."})]})}),f.jsx(ed,{})]}):e?f.jsx(f.Fragment,{children:r}):f.jsx(Ri,{to:"/auth",replace:!0})},td=()=>f.jsx("div",{className:"flex min-h-screen items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(Fi,{className:"h-8 w-8 animate-spin text-islamic-green"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})}),rd=()=>{const r=Us(),e=[{icon:Bi,label:"Home",path:"/dashboard"},{icon:Bs,label:"Lessons",path:"/lessons"},{icon:Ot,label:"Duas",path:"/duas"},{icon:cr,label:"Journal",path:"/journal"},{icon:zi,label:"Profile",path:"/profile"}];return f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",children:f.jsx("div",{className:"flex justify-around items-center h-16",children:e.map(t=>{const s=t.icon,n=r.pathname===t.path;return f.jsxs(ue,{to:t.path,className:me("flex flex-col items-center justify-center w-full h-full",n?"text-islamic-green":"text-gray-500"),children:[f.jsx(s,{className:"h-5 w-5"}),f.jsx("span",{className:"text-xs mt-1",children:t.label})]},t.path)})})})},sd=()=>{const{signOut:r,user:e}=An(),t=Ii();return w.useEffect(()=>{(async()=>{try{if(!e){localStorage.clear(),t("/",{replace:!0});return}await r(),localStorage.clear(),t("/",{replace:!0})}catch(n){console.error("Error signing out:",n),te({title:"Error signing out",description:"There was a problem signing out. Please try again.",variant:"destructive"})}})()},[r,t,e]),f.jsx("div",{className:"flex flex-col min-h-screen items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Signing out..."}),f.jsx("p",{className:"text-gray-600",children:"Please wait while we end your session."})]})})},nd=w.lazy(()=>I(()=>import("./Landing-D5Li5SBe.js"),__vite__mapDeps([9,1,2,10,3]))),id=w.lazy(()=>I(()=>import("./Auth-DnAyKLzV.js"),__vite__mapDeps([11,1,2,12,13,14,15,3]))),od=w.lazy(()=>I(()=>import("./Dashboard-C7iQVp-H.js").then(r=>r.D),__vite__mapDeps([16,1,2,17,3,18,15,14,10,19]))),ad=w.lazy(()=>I(()=>import("./AddChild-DmPOEcsH.js"),__vite__mapDeps([20,1,2,12,13,14,15,21,10,3]))),ld=w.lazy(()=>I(()=>import("./ChildMilestones-CFH96QRU.js"),__vite__mapDeps([22,1,2,23,17,15,19,18,3,24]))),cd=w.lazy(()=>I(()=>import("./Profile-BfrPhdmb.js"),__vite__mapDeps([25,1,2,15,26,14,17,21,10,3,27]))),ud=w.lazy(()=>I(()=>import("./Index-BE-93bSQ.js"),__vite__mapDeps([28,1,2,17,3,26]))),dd=w.lazy(()=>I(()=>import("./Lessons-x9tCmu2k.js"),__vite__mapDeps([29,1,2,17,15,19,3]))),hd=w.lazy(()=>I(()=>import("./Milestones-05-JH6Db.js"),__vite__mapDeps([30,1,2,23,17,24,19,3]))),fd=w.lazy(()=>I(()=>import("./Duas-CA7Q2Cxz.js"),__vite__mapDeps([31,1,2,17,15,19,24,3]))),pd=w.lazy(()=>I(()=>import("./Journal-nPrd0zja.js"),__vite__mapDeps([32,1,2,17,24,15,26,3]))),md=w.lazy(()=>I(()=>import("./Community-CfqDa1Zo.js"),__vite__mapDeps([33,1,2,17,15,26,24,3]))),gd=w.lazy(()=>I(()=>import("./BabyPrep-C4SnR_9J.js"),__vite__mapDeps([34,1,2,17,27,10,3,26]))),vd=w.lazy(()=>I(()=>import("./NotFound-C5iZvysz.js"),__vite__mapDeps([35,1,2]))),yd=new Wu;function bd(){return f.jsx(Yu,{client:yd,children:f.jsx(Xl,{children:f.jsx(Su,{children:f.jsxs(Ni,{children:[f.jsxs("div",{className:"flex flex-col min-h-screen pb-16 md:pb-0",children:[f.jsx(w.Suspense,{fallback:f.jsx(td,{}),children:f.jsxs(Li,{children:[f.jsx(q,{path:"/",element:f.jsx(nd,{})}),f.jsx(q,{path:"/auth",element:f.jsx(id,{})}),f.jsx(q,{path:"/dashboard",element:f.jsx(at,{children:f.jsx(od,{})})}),f.jsx(q,{path:"/add-child",element:f.jsx(at,{children:f.jsx(ad,{})})}),f.jsx(q,{path:"/child/:id/milestones",element:f.jsx(at,{children:f.jsx(ld,{})})}),f.jsx(q,{path:"/profile",element:f.jsx(at,{children:f.jsx(cd,{})})}),f.jsx(q,{path:"/index",element:f.jsx(ud,{})}),f.jsx(q,{path:"/lessons",element:f.jsx(dd,{})}),f.jsx(q,{path:"/milestones",element:f.jsx(hd,{})}),f.jsx(q,{path:"/duas",element:f.jsx(fd,{})}),f.jsx(q,{path:"/journal",element:f.jsx(pd,{})}),f.jsx(q,{path:"/community",element:f.jsx(md,{})}),f.jsx(q,{path:"/baby-prep",element:f.jsx(at,{children:f.jsx(gd,{})})}),f.jsx(q,{path:"/sign-out",element:f.jsx(sd,{})}),f.jsx(q,{path:"*",element:f.jsx(vd,{})})]})}),f.jsx(rd,{})]}),f.jsx(Ic,{}),f.jsx(cu,{})]})})})})}Oo();zs(document.getElementById("root")).render(f.jsx(bd,{}));export{ai as B,ed as F,Zu as H,I as _,Nn as a,Yl as b,me as c,$d as d,Zi as e,kd as f,ro as g,Xi as h,Ed as r,nt as s,te as t,An as u};
