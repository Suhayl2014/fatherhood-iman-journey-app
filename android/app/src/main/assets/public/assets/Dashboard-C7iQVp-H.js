const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-C1QgQfuo.js","assets/ui-vendor-C7McgsY-.js","assets/react-vendor-BhqeUVA1.js","assets/index-BImgQHmp.js","assets/icons-CbYejn_e.js","assets/index-BP8HQjZt.css","assets/card-DjuXh6RO.js","assets/dialog-CDH1IPmJ.js","assets/input-DPPaCPuN.js","assets/label-D3kNmkFD.js","assets/index-CDHhSjWI.js","assets/badge-ByhtEUZ7.js"])))=>i.map(i=>d[i]);
import{j as e,c as me,u as ue,d as J,e as z,f as Se,v as Oe,w as he,n as _e,o as Ae,x as Ie,I as Te}from"./ui-vendor-C7McgsY-.js";import{r as u,e as fe,L as G}from"./react-vendor-BhqeUVA1.js";import{c as pe,b as $e,B as w,s as B,_ as Ue,u as Fe,H as Ge,F as Me,t as Be}from"./index-BImgQHmp.js";import{C as D,a as A,b as I,c as T,d as S}from"./card-DjuXh6RO.js";import{H as Ve,B as He,f as qe,g as We,a as Y,h as Ke,i as ze,T as Ye,j as Je,k as Qe,l as ee}from"./icons-CbYejn_e.js";import{D as se,a as te,b as re,c as ae,d as ne,e as ie}from"./dialog-CDH1IPmJ.js";import{I as oe}from"./input-DPPaCPuN.js";import{L}from"./label-D3kNmkFD.js";import{u as Xe}from"./index-CDHhSjWI.js";import{B as M}from"./badge-ByhtEUZ7.js";const le=[{type:"hadith",content:"The Prophet (ﷺ) said: 'He is not of us who does not have mercy on our young children, or does not respect our elders.'",source:"Tirmidhi"},{type:"tip",content:"Try reading a short surah with your child before bedtime. Even if they're too young to understand, the sound of Quranic recitation soothes their soul."},{type:"reminder",content:"Remember to say 'Bismillah' before activities with your child. This simple act teaches them to begin everything in Allah's name."},{type:"hadith",content:"The Prophet (ﷺ) said: 'The best of you are those who are best to their families.'",source:"Tirmidhi"},{type:"tip",content:"Create a special 'Islamic corner' in your home where you can pray and read Quran together as a family."},{type:"reminder",content:"Take a moment today to express gratitude to Allah for the blessing of your children."},{type:"hadith",content:"The Prophet (ﷺ) said: 'No father has given a greater gift to his children than good moral training.'",source:"Tirmidhi"},{type:"tip",content:"Start teaching your child simple duas like the dua before eating or sleeping."},{type:"reminder",content:"Your child learns more from your actions than your words. Be mindful of your behavior around them."},{type:"hadith",content:"The Prophet (ﷺ) said: 'When a person dies, his deeds come to an end except for three: ongoing charity, beneficial knowledge, or a righteous child who prays for him.'",source:"Muslim"}],Ze=()=>{const[t,s]=u.useState(null);if(u.useEffect(()=>{const i=new Date().getDate()%le.length;s(le[i])},[]),!t)return null;const r=()=>{switch(t.type){case"tip":return e.jsx(qe,{className:"h-5 w-5 text-islamic-green"});case"hadith":return e.jsx(He,{className:"h-5 w-5 text-islamic-green"});case"reminder":return e.jsx(Ve,{className:"h-5 w-5 text-islamic-green"});default:return null}};return e.jsx(D,{className:"mb-8 bg-islamic-green/5 border-islamic-green/20",children:e.jsxs("div",{className:"p-4 flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:r()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-700",children:t.content}),t.source&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Source: ",t.source]})]})]})})};var Q="Radio",[es,xe]=me(Q),[ss,ts]=es(Q),ge=u.forwardRef((t,s)=>{const{__scopeRadio:r,name:i,checked:a=!1,required:n,disabled:o,value:c="on",onCheck:m,form:h,...p}=t,[l,d]=u.useState(null),y=ue(s,b=>d(b)),v=u.useRef(!1),j=l?h||!!l.closest("form"):!0;return e.jsxs(ss,{scope:r,checked:a,disabled:o,children:[e.jsx(J.button,{type:"button",role:"radio","aria-checked":a,"data-state":ye(a),"data-disabled":o?"":void 0,disabled:o,value:c,...p,ref:y,onClick:z(t.onClick,b=>{a||m?.(),j&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),j&&e.jsx(rs,{control:l,bubbles:!v.current,name:i,value:c,checked:a,required:n,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});ge.displayName=Q;var ve="RadioIndicator",be=u.forwardRef((t,s)=>{const{__scopeRadio:r,forceMount:i,...a}=t,n=ts(ve,r);return e.jsx(Se,{present:i||n.checked,children:e.jsx(J.span,{"data-state":ye(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:s})})});be.displayName=ve;var rs=t=>{const{control:s,checked:r,bubbles:i=!0,...a}=t,n=u.useRef(null),o=Xe(r),c=Oe(s);return u.useEffect(()=>{const m=n.current,h=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&l){const d=new Event("click",{bubbles:i});l.call(m,r),m.dispatchEvent(d)}},[o,r,i]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:n,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ye(t){return t?"checked":"unchecked"}var as=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],X="RadioGroup",[ns,_s]=me(X,[he,xe]),je=he(),we=xe(),[is,os]=ns(X),Ce=u.forwardRef((t,s)=>{const{__scopeRadioGroup:r,name:i,defaultValue:a,value:n,required:o=!1,disabled:c=!1,orientation:m,dir:h,loop:p=!0,onValueChange:l,...d}=t,y=je(r),v=_e(h),[j,b]=Ae({prop:n,defaultProp:a,onChange:l});return e.jsx(is,{scope:r,name:i,required:o,disabled:c,value:j,onValueChange:b,children:e.jsx(Ie,{asChild:!0,...y,orientation:m,dir:v,loop:p,children:e.jsx(J.div,{role:"radiogroup","aria-required":o,"aria-orientation":m,"data-disabled":c?"":void 0,dir:v,...d,ref:s})})})});Ce.displayName=X;var Ne="RadioGroupItem",Pe=u.forwardRef((t,s)=>{const{__scopeRadioGroup:r,disabled:i,...a}=t,n=os(Ne,r),o=n.disabled||i,c=je(r),m=we(r),h=u.useRef(null),p=ue(s,h),l=n.value===a.value,d=u.useRef(!1);return u.useEffect(()=>{const y=j=>{as.includes(j.key)&&(d.current=!0)},v=()=>d.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",v)}},[]),e.jsx(Te,{asChild:!0,...c,focusable:!o,active:l,children:e.jsx(ge,{disabled:o,required:n.required,checked:l,...m,...a,name:n.name,ref:p,onCheck:()=>n.onValueChange(a.value),onKeyDown:z(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:z(a.onFocus,()=>{d.current&&h.current?.click()})})})});Pe.displayName=Ne;var ls="RadioGroupIndicator",Ee=u.forwardRef((t,s)=>{const{__scopeRadioGroup:r,...i}=t,a=we(r);return e.jsx(be,{...a,...i,ref:s})});Ee.displayName=ls;var ke=Ce,Re=Pe,cs=Ee;const De=u.forwardRef(({className:t,...s},r)=>e.jsx(ke,{className:pe("grid gap-2",t),...s,ref:r}));De.displayName=ke.displayName;const V=u.forwardRef(({className:t,...s},r)=>e.jsx(Re,{ref:r,className:pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(cs,{className:"flex items-center justify-center",children:e.jsx(We,{className:"h-2.5 w-2.5 fill-current text-current"})})}));V.displayName=Re.displayName;const ds=({child:t,onUpdate:s})=>{fe();const{toast:r}=$e(),[i,a]=u.useState(!1),[n,o]=u.useState(!1),[c,m]=u.useState(t.name),[h,p]=u.useState(t.date_of_birth),[l,d]=u.useState(t.gender),[y,v]=u.useState(!1),[j,b]=u.useState(!1),q=x=>{const N=new Date(x);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(N)},W=x=>{const N=new Date,R=new Date(x);let f=N.getFullYear()-R.getFullYear(),g=N.getMonth()-R.getMonth();return(g<0||g===0&&N.getDate()<R.getDate())&&(f--,g+=12),f===0?`${g} months`:f===1&&g===0?`${f} year`:f>=1&&g===0?`${f} years`:`${f} years, ${g} months`},_=async()=>{if(!c||!h||!l){r({title:"Missing information",description:"Please fill in all fields",variant:"destructive"});return}try{v(!0);const{error:x}=await B.from("children").update({name:c,date_of_birth:h,gender:l,updated_at:new Date().toISOString()}).eq("id",t.id);if(x)throw x;r({title:"Child updated",description:`${c}'s information has been updated successfully.`}),a(!1),s()}catch(x){r({title:"Error updating child",description:x.message,variant:"destructive"})}finally{v(!1)}},$=async()=>{try{b(!0);const{error:x}=await B.from("child_milestones").delete().eq("child_id",t.id);if(x)throw x;const{error:N}=await B.from("children").delete().eq("id",t.id);if(N)throw N;r({title:"Child removed",description:`${t.name}'s records have been deleted.`}),o(!1),s()}catch(x){r({title:"Error removing child",description:x.message,variant:"destructive"})}finally{b(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs(D,{className:"overflow-hidden hover:shadow-lg transition-shadow h-full flex flex-col",children:[e.jsxs(A,{className:"bg-gradient-to-r from-islamic-green to-islamic-teal text-white",children:[e.jsxs(I,{className:"flex justify-between items-center",children:[e.jsx("span",{children:t.name}),e.jsx(Y,{className:"h-5 w-5"})]}),e.jsx(T,{className:"text-islamic-cream",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ke,{className:"h-3 w-3 mr-1"}),q(t.date_of_birth)]})})]}),e.jsxs(S,{className:"pt-4 flex flex-col flex-grow",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Age"}),e.jsx("div",{className:"font-medium",children:W(t.date_of_birth)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Gender"}),e.jsx("div",{className:"font-medium capitalize",children:t.gender})]}),e.jsx("div",{className:"mt-auto flex flex-col gap-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(w,{variant:"outline",className:"flex-1",size:"sm",onClick:()=>a(!0),children:[e.jsx(ze,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(w,{variant:"outline",className:"flex-1",size:"sm",onClick:()=>o(!0),children:[e.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Remove"]})]})})]})]}),e.jsx(se,{open:i,onOpenChange:a,children:e.jsxs(te,{children:[e.jsxs(re,{children:[e.jsx(ae,{children:"Edit Child Information"}),e.jsx(ne,{children:"Update your child's information. Click save when you're done."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(L,{htmlFor:"name",className:"text-right",children:"Name"}),e.jsx(oe,{id:"name",value:c,onChange:x=>m(x.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(L,{htmlFor:"date",className:"text-right",children:"Date of Birth"}),e.jsx(oe,{id:"date",type:"date",value:h,onChange:x=>p(x.target.value),className:"col-span-3"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(L,{className:"text-right",children:"Gender"}),e.jsxs(De,{value:l,onValueChange:x=>d(x),className:"col-span-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{value:"male",id:"male"}),e.jsx(L,{htmlFor:"male",children:"Male"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{value:"female",id:"female"}),e.jsx(L,{htmlFor:"female",children:"Female"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{value:"other",id:"other"}),e.jsx(L,{htmlFor:"other",children:"Other"})]})]})]})]}),e.jsxs(ie,{children:[e.jsx(w,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(w,{onClick:_,disabled:y,children:y?"Saving...":"Save Changes"})]})]})}),e.jsx(se,{open:n,onOpenChange:o,children:e.jsxs(te,{children:[e.jsxs(re,{children:[e.jsxs(ae,{className:"flex items-center text-red-500",children:[e.jsx(Je,{className:"h-5 w-5 mr-2"}),"Remove Child"]}),e.jsxs(ne,{children:["This will permanently remove ",t.name,"'s information and all their milestone records. This action cannot be undone."]})]}),e.jsxs(ie,{children:[e.jsx(w,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(w,{variant:"destructive",onClick:$,disabled:j,children:j?"Removing...":"Yes, Remove"})]})]})})]})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var O;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(O||(O={}));class K extends Error{constructor(s,r,i){super(s),this.message=s,this.code=r,this.data=i}}const ms=t=>{var s,r;return t?.androidBridge?"android":!((r=(s=t?.webkit)===null||s===void 0?void 0:s.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},us=t=>{const s=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},i=r.Plugins=r.Plugins||{},a=()=>s!==null?s.name:ms(t),n=()=>a()!=="web",o=l=>{const d=h.get(l);return!!(d?.platforms.has(a())||c(l))},c=l=>{var d;return(d=r.PluginHeaders)===null||d===void 0?void 0:d.find(y=>y.name===l)},m=l=>t.console.error(l),h=new Map,p=(l,d={})=>{const y=h.get(l);if(y)return console.warn(`Capacitor plugin "${l}" already registered. Cannot register plugins twice.`),y.proxy;const v=a(),j=c(l);let b;const q=async()=>(!b&&v in d?b=typeof d[v]=="function"?b=await d[v]():b=d[v]:s!==null&&!b&&"web"in d&&(b=typeof d.web=="function"?b=await d.web():b=d.web),b),W=(f,g)=>{var P,E;if(j){const k=j?.methods.find(C=>g===C.name);if(k)return k.rtype==="promise"?C=>r.nativePromise(l,g.toString(),C):(C,U)=>r.nativeCallback(l,g.toString(),C,U);if(f)return(P=f[g])===null||P===void 0?void 0:P.bind(f)}else{if(f)return(E=f[g])===null||E===void 0?void 0:E.bind(f);throw new K(`"${l}" plugin is not implemented on ${v}`,O.Unimplemented)}},_=f=>{let g;const P=(...E)=>{const k=q().then(C=>{const U=W(C,f);if(U){const F=U(...E);return g=F?.remove,F}else throw new K(`"${l}.${f}()" is not implemented on ${v}`,O.Unimplemented)});return f==="addListener"&&(k.remove=async()=>g()),k};return P.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:f,writable:!1,configurable:!1}),P},$=_("addListener"),x=_("removeListener"),N=(f,g)=>{const P=$({eventName:f},g),E=async()=>{const C=await P;x({eventName:f,callbackId:C},g)},k=new Promise(C=>P.then(()=>C({remove:E})));return k.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await E()},k},R=new Proxy({},{get(f,g){switch(g){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?N:$;case"removeListener":return x;default:return _(g)}}});return i[l]=R,h.set(l,{name:l,proxy:R,platforms:new Set([...Object.keys(d),...j?[v]:[]])}),R};return r.convertFileSrc||(r.convertFileSrc=l=>l),r.getPlatform=a,r.handleError=m,r.isNativePlatform=n,r.isPluginAvailable=o,r.registerPlugin=p,r.Exception=K,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},hs=t=>t.Capacitor=us(t),H=hs(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Z=H.registerPlugin;class Le{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(s,r){let i=!1;this.listeners[s]||(this.listeners[s]=[],i=!0),this.listeners[s].push(r);const n=this.windowListeners[s];n&&!n.registered&&this.addWindowListener(n),i&&this.sendRetainedArgumentsForEvent(s);const o=async()=>this.removeListener(s,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const s in this.windowListeners)this.removeWindowListener(this.windowListeners[s]);this.windowListeners={}}notifyListeners(s,r,i){const a=this.listeners[s];if(!a){if(i){let n=this.retainedEventArguments[s];n||(n=[]),n.push(r),this.retainedEventArguments[s]=n}return}a.forEach(n=>n(r))}hasListeners(s){return!!this.listeners[s].length}registerWindowListener(s,r){this.windowListeners[r]={registered:!1,windowEventName:s,pluginEventName:r,handler:i=>{this.notifyListeners(r,i)}}}unimplemented(s="not implemented"){return new H.Exception(s,O.Unimplemented)}unavailable(s="not available"){return new H.Exception(s,O.Unavailable)}async removeListener(s,r){const i=this.listeners[s];if(!i)return;const a=i.indexOf(r);this.listeners[s].splice(a,1),this.listeners[s].length||this.removeWindowListener(this.windowListeners[s])}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}sendRetainedArgumentsForEvent(s){const r=this.retainedEventArguments[s];r&&(delete this.retainedEventArguments[s],r.forEach(i=>{this.notifyListeners(s,i)}))}}const ce=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),de=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class fs extends Le{async getCookies(){const s=document.cookie,r={};return s.split(";").forEach(i=>{if(i.length<=0)return;let[a,n]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=de(a).trim(),n=de(n).trim(),r[a]=n}),r}async setCookie(s){try{const r=ce(s.key),i=ce(s.value),a=`; expires=${(s.expires||"").replace("expires=","")}`,n=(s.path||"/").replace("path=",""),o=s.url!=null&&s.url.length>0?`domain=${s.url}`:"";document.cookie=`${r}=${i||""}${a}; path=${n}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(s){try{document.cookie=`${s.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const s=document.cookie.split(";")||[];for(const r of s)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(s){return Promise.reject(s)}}async clearAllCookies(){try{await this.clearCookies()}catch(s){return Promise.reject(s)}}}Z("CapacitorCookies",{web:()=>new fs});const ps=async t=>new Promise((s,r)=>{const i=new FileReader;i.onload=()=>{const a=i.result;s(a.indexOf(",")>=0?a.split(",")[1]:a)},i.onerror=a=>r(a),i.readAsDataURL(t)}),xs=(t={})=>{const s=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,n,o)=>(a[n]=t[s[o]],a),{})},gs=(t,s=!0)=>t?Object.entries(t).reduce((i,a)=>{const[n,o]=a;let c,m;return Array.isArray(o)?(m="",o.forEach(h=>{c=s?encodeURIComponent(h):h,m+=`${n}=${c}&`}),m.slice(0,-1)):(c=s?encodeURIComponent(o):o,m=`${n}=${c}`),`${i}&${m}`},"").substr(1):null,vs=(t,s={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},s),a=xs(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[o,c]of Object.entries(t.data||{}))n.set(o,c);r.body=n.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const n=new FormData;if(t.data instanceof FormData)t.data.forEach((c,m)=>{n.append(m,c)});else for(const c of Object.keys(t.data))n.append(c,t.data[c]);r.body=n;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class bs extends Le{async request(s){const r=vs(s,s.webFetchExtra),i=gs(s.params,s.shouldEncodeUrlParams),a=i?`${s.url}?${i}`:s.url,n=await fetch(a,r),o=n.headers.get("content-type")||"";let{responseType:c="text"}=n.ok?s:{};o.includes("application/json")&&(c="json");let m,h;switch(c){case"arraybuffer":case"blob":h=await n.blob(),m=await ps(h);break;case"json":m=await n.json();break;case"document":case"text":default:m=await n.text()}const p={};return n.headers.forEach((l,d)=>{p[d]=l}),{data:m,headers:p,status:n.status,url:n.url}}async get(s){return this.request(Object.assign(Object.assign({},s),{method:"GET"}))}async post(s){return this.request(Object.assign(Object.assign({},s),{method:"POST"}))}async put(s){return this.request(Object.assign(Object.assign({},s),{method:"PUT"}))}async patch(s){return this.request(Object.assign(Object.assign({},s),{method:"PATCH"}))}async delete(s){return this.request(Object.assign(Object.assign({},s),{method:"DELETE"}))}}Z("CapacitorHttp",{web:()=>new bs});const ys=Z("Device",{web:()=>Ue(()=>import("./web-C1QgQfuo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(t=>new t.DeviceWeb)}),js=()=>{const[t,s]=u.useState({});return u.useEffect(()=>{async function r(){try{const i=await ys.getInfo();s({platform:i.platform,isVirtual:i.isVirtual,model:i.model,osVersion:i.osVersion})}catch(i){console.error("Error getting device info:",i)}}r()},[]),t.platform?e.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[t.platform&&e.jsx(M,{variant:"outline",className:"bg-islamic-green/10 border-islamic-green/20",children:t.platform}),t.model&&e.jsx(M,{variant:"outline",children:t.model}),t.osVersion&&e.jsxs(M,{variant:"outline",children:["OS ",t.osVersion]}),t.isVirtual!==void 0&&e.jsx(M,{variant:"outline",className:t.isVirtual?"bg-amber-100":"bg-green-100",children:t.isVirtual?"Emulator":"Real Device"})]}):null},ws=()=>{const{user:t,signOut:s}=Fe(),[r,i]=u.useState([]),[a,n]=u.useState(!0),o=fe(),c=H.isNativePlatform(),m=async()=>{if(t)try{n(!0);const{data:p,error:l}=await B.from("children").select("*").order("created_at",{ascending:!1});if(l)throw l;i(p||[])}catch(p){Be({title:"Error fetching children",description:p.message,variant:"destructive"})}finally{n(!1)}};u.useEffect(()=>{m()},[t]);const h=async()=>{try{await s()}catch(p){console.error("Error signing out:",p)}};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Ge,{}),e.jsx("main",{className:"flex-grow py-4 sm:py-8 pb-20 md:pb-8",children:e.jsxs("div",{className:"container-app px-4 sm:px-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["Welcome, ",t?.user_metadata?.full_name||"Parent"]}),e.jsx("p",{className:"mt-1 sm:mt-2 text-gray-600 text-sm sm:text-base",children:"Your dashboard for tracking your child's milestones"})]}),e.jsxs("div",{className:"mt-3 md:mt-0 flex space-x-2 sm:space-x-3",children:[e.jsxs(w,{variant:"outline",className:"flex items-center text-sm sm:text-base",onClick:()=>o("/profile"),children:[e.jsx(Qe,{className:"mr-1 sm:mr-2 h-4 w-4"}),"Profile"]}),e.jsx(w,{variant:"outline",className:"text-sm sm:text-base",onClick:h,children:"Sign Out"})]})]}),e.jsx(Ze,{}),c&&e.jsx(js,{}),e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-islamic-green",children:"Your Children"}),e.jsxs(w,{onClick:()=>o("/add-child"),size:"sm",className:"text-xs sm:text-sm",children:[e.jsx(ee,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Child"]})]}),a?e.jsx("div",{className:"flex justify-center py-6 sm:py-8",children:e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 animate-spin rounded-full border-b-2 border-t-2 border-islamic-green"})}):r.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.map(p=>e.jsx(ds,{child:p,onUpdate:m},p.id))}):e.jsx(D,{children:e.jsxs(S,{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[e.jsx(Y,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-300 mb-3 sm:mb-4"}),e.jsx("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 mb-1 sm:mb-2",children:"No children added yet"}),e.jsx("p",{className:"text-gray-500 mb-4 sm:mb-6 text-center text-sm sm:text-base",children:"Add your first child to start tracking their milestones and development"}),e.jsxs(w,{onClick:()=>o("/add-child"),className:"text-sm sm:text-base",children:[e.jsx(ee,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Child"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs(D,{children:[e.jsxs(A,{className:"p-4 sm:p-6",children:[e.jsx(I,{className:"text-base sm:text-lg",children:"Islamic Lessons"}),e.jsx(T,{className:"text-xs sm:text-sm",children:"Access Islamic parenting guidance"})]}),e.jsx(S,{className:"p-4 sm:p-6 pt-0",children:e.jsx(w,{variant:"outline",asChild:!0,className:"w-full text-sm sm:text-base",children:e.jsx(G,{to:"/lessons",children:"View Lessons"})})})]}),e.jsxs(D,{children:[e.jsxs(A,{className:"p-4 sm:p-6",children:[e.jsx(I,{className:"text-base sm:text-lg",children:"Development Milestones"}),e.jsx(T,{className:"text-xs sm:text-sm",children:"Learn about child development stages"})]}),e.jsx(S,{className:"p-4 sm:p-6 pt-0",children:e.jsx(w,{variant:"outline",asChild:!0,className:"w-full text-sm sm:text-base",children:e.jsx(G,{to:"/milestones",children:"View Milestones"})})})]}),e.jsxs(D,{children:[e.jsxs(A,{className:"p-4 sm:p-6",children:[e.jsx(I,{className:"text-base sm:text-lg",children:"Duas Collection"}),e.jsx(T,{className:"text-xs sm:text-sm",children:"Essential prayers for parents and children"})]}),e.jsx(S,{className:"p-4 sm:p-6 pt-0",children:e.jsx(w,{variant:"outline",asChild:!0,className:"w-full text-sm sm:text-base",children:e.jsx(G,{to:"/duas",children:"View Duas"})})})]}),e.jsxs(D,{className:"bg-islamic-green/5 border-islamic-green/20",children:[e.jsxs(A,{className:"p-4 sm:p-6",children:[e.jsxs(I,{className:"flex items-center text-base sm:text-lg",children:[e.jsx(Y,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2 text-islamic-green"}),"Baby Preparation"]}),e.jsx(T,{className:"text-xs sm:text-sm",children:"Islamic traditions for welcoming a new baby"})]}),e.jsx(S,{className:"p-4 sm:p-6 pt-0",children:e.jsx(w,{variant:"outline",asChild:!0,className:"w-full border-islamic-green/20 hover:bg-islamic-green/10 text-sm sm:text-base",children:e.jsx(G,{to:"/baby-prep",children:"View Guide"})})})]})]})]})}),e.jsx(Me,{})]})},As=Object.freeze(Object.defineProperty({__proto__:null,default:ws},Symbol.toStringTag,{value:"Module"}));export{As as D,Le as W};
